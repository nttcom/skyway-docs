<html>
<head>
    <title>SkyWay ドキュメント</title>
    <meta charset="UTF-8" />
    <meta property="og:locale" content="ja_JP" />
    <meta name="viewport" content="width=device-width, maximum-scale=1">
    <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
    <link href="./style.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="./index.js"></script>
</head>

<body>
<div id="tab-controll">
  <ul id="tab">
  <li><a href="#JS" class="active">JavaScript</a></li>
  <li><a href="#iOS">iOS</a></li>
  <li><a href="#Android">Android</a></li>
  </ul>
</div>
<div id="tab-content">
<div id="JS">
<section class="start">
    <h1><a href="/skyway/">PeerJS</a> <span class="title">docs</span><span class="title skyway">SkyWay対応版</span></h1>
    <p><br>PeerJSは、WebRTCを利用したピア·ツー·ピアのデータ、ビデオ、オーディオ通信を簡単に実現することができます。このドキュメントでは、PeerJS APIの基本的な使い方を紹介します。PeerJSを用いた実装例をご覧になりたい方は, <a href="https://github.com/nttcom/peerjs/tree/master/examples">サンプル</a> ページを御覧ください。</P>
    <p>このドキュメントは、NTTコミュニケーションズが提供する<a href="http://nttcom.github.io/skyway/">クラウドサービス「SkyWay」</a>にて利用できるようにカスタマイズした<a href="https://github.com/nttcom/peerjs">PeerJS</a>を対象としています。</p>
    <h2>セットアップ</h2>
    <h3>1. PeerJSのクライアントライブラリをインクルード</h3>
    <p>PeerJSクライアントライブラリをあなたのアプリケーションにインクルードしてください。</p>
    <pre>&lt;script src="https://skyway.io/dist/0.3/peer.js"&gt;&lt;/script&gt;</pre>
    <p>PeerJSライブラリ（<a download href="https://skyway.io/dist/0.3/peer.js">peer.js</a>, <a download href="https://skyway.io/dist/0.3/peer.min.js">peer.min.js</a>）はあなたのサーバ上に設置することができます。
        ソースコードは<a href="https://github.com/nttcom/peerjs">Githubからfork</a>する事ができます。</p>
    <h3>2. Peerオブジェクトを作成</h3>
    <p>Peerオブジェクトは、Peerコネクションを生成、受信する為に利用します。</p>
    <pre>var peer = new Peer({key: 'APIKEY'});</pre>
    <p>Peerのコンストラクタに渡す'APIKEY'は、SkyWayのAPIキーです。<a
            href="https://skyway.io/ds/registration/">APIキーの申し込み</a>を行うことで無料で取得することができます。APIキー申込時には利用ドメインを申請していただきます。APIキーは申請したドメインからのみ利用可能です。</p>

    <p>PeerJSのセッション情報交換やシグナリングに利用するサーバを、自身で構築することもできます。
        詳しくは<a href="http://github.com/peers/peerjs-server">peerjs-server</a>をご覧ください。</p>
    <p>これで利用するための準備はすべて整いました！</p>

    <h2>使い方</h2>
    <p>Peerオブジェクトは生成時、ランダムなID（以下、PeerID）が付与されます。</p>
      <pre>peer.on('open', function(id) {
  console.log('My peer ID is: ' + id);
});</pre>
    <p>他のPeerと接続したい場合は、接続先のPeerIDが必要になります。
        RestAPIを利用して接続先のPeerIDを入手するか、何らかの仕組みでPeerIDを交換してください。<a href="#peer"><code>Peer</code> constructor</a>のオプションに任意のPeerIDを指定する事もできます。</p>

    <p>その他の<a href="#peer-options">オプション</a>、メソッド、<a href="#peeron">イベント</a>、<a href="#peeron-error">エラー処理</a>などの詳細は、<a href="#peer">Peer API リファレンス</a>をお読みください。</p>

    <h3>Data connections</h3>
    <p>相手のPeerIDを指定して<code>peer.connect</code>を実行するとData connectionを開始します。相手から接続要求はいつでも<code>connection</code> イベントを利用して受け取ることができます。 </p>
    <div class="two-col">
        <div class="col col-header">接続開始</div>
        <div class="col col-header">接続イベントの受信</div>
        <div class="col"><pre>var conn = peer.connect('dest-peer-id');</pre></div>
        <div class="col"><pre>peer.on('connection', function(conn) { ... });</pre></div>
        <div class="clear"></div>
    </div>
    <p><code>peer.connect</code>と<code>connection</code>イベントのコールバックでは<code>DataConnection</code>オブジェクトを提供します。このオブジェクトを使用してデータの送受信を行うことができます。</p>
      <pre>conn.on('open', function() {
  // メッセージを受信
  conn.on('data', function(data) {
    console.log('Received', data);
  });

  // メッセージを送信
  conn.send('Hello!');
});</pre>
    <p>メソッドとイベントの詳細は、<a href="#dataconnection">DataConnection API リファレンス</a>をご覧ください。</p>
    <h3>Video/audio calls</h3>
    <p>相手のPeerIDを指定して<code>peer.call</code>を実行することで、その相手を呼び出すことができます。相手があなたを呼び出した場合、 <code>call</code>イベントが発生します。
    <p><code>call</code>イベントを受信した時は、必ずそのイベントに応答する必要があります。応答しなければ接続は確立しません。</p>
    <div class="two-col">
        <div class="col col-header">呼び出し開始</div>
        <div class="col col-header">呼び出しへの応答</div>
        <div class="col"><pre>// Call a peer, providing our mediaStream
var call = peer.call('dest-peer-id',
  mediaStream);

</pre></div>
        <div class="col"><pre>peer.on('call', function(call) {
  // Answer the call, providing our mediaStream
  call.answer(mediaStream);
});</pre></div>
        <div class="clear"></div>
    </div>
    <p>相手を呼び出す時、または、呼び出しに応答する時には、MediaStreamを提供する必要があります。
        MediaStreamにはビデオストリーム（ウェブカメラの映像）やオーディオストリームなどがあり、<a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator.getUserMedia"><code>navigator.getUserMedia</code></a>によって取得することができます。取得できる内容はブラウザによってことなります。
        尚、呼び出しに応答する時のMediaStreamは必須ではありません。もし応答時にMediaStreamをセットしなければ、一方向の通話が確立されます。
        通話が確立されると、<code>open</code>プロパティにtrueがセットされます。
    <p><code>peer.call</code> と <code>call</code> イベントのコールバックではMediaConnectionオブジェクトを提供します。
        MediaConnectionオブジェクトは<code>stream</code> イベントをキャッチすることができます。<code>stream</code>イベントのコールバックには相手の映像／音声ストリームが含まれます。</p>
      <pre>call.on('stream', function(stream) {
  // `stream` is the MediaStream of the remote peer.
  // Here you'd add it to an HTML video/canvas element.
});</pre>
    <p>詳しくは <a href="#mediaconnection">MediaConnection API reference</a> をご覧ください。</p>

    <h2>SkyWay RestAPIの使い方</h2>
    <h3>listAllPeers()<APIKEY></h3>
    <p>APIキー毎のアクティブなPeerIDを取得します。<p>
      <pre>peer.listAllPeers(function(list){
      //（例）取得したPeerIDリストを配列に格納する
    for(var cnt = 0;cnt < list.length;cnt++){
        userList.push(list[cnt]);
    }
});
</pre>


    <p>SkyWay RestAPIはAPIキー申請時に申請していただいたドメインからのみアクセスが可能です。</p>

    <h2>FAQ</h2>

    <h3>どのような種類のデータを送ることができますか？</h3>

    <p>PeerJSは <a href="https://github.com/binaryjs/js-binarypack">BinaryPack</a>シリアライゼーションフォーマットを利用しています。JSONやバイナリBlobs、ArrayBuffersなど様々なデータを簡単な手順で送受信することができます。</p>
          <pre>
conn.send({
  strings: 'hi!',
  numbers: 150,
  arrays: [1,2,3],
  evenBinary: new Blob([1,2,3]),
  andMore: {bool: true}
});</pre>
    <p>serializationの設定値による、各プラットフォーム間(JavaScript, iOS, Android)でのデータ通信の可否と、送受信時のデータ型に関する情報については<a href='https://github.com/nttcom/skyway-docs/blob/master/serialization.md' target="_blank">こちら</a>をご覧ください。</p>

    <h3>PeerJSを利用することができないシーンはありますか？</h3>

    <p>シンメトリックNATの内側にいるクライアント同士はNATを超えることができないため、通信することができません。
        ただし、TURNサーバを利用して接続を中継すれば回避することができます。必要であれば、SkyWayが提供するTURNサーバを利用するか別途用意してください。SkyWayが提供するTURNサーバを利用する場合は別途<a href='https://skyway.io/ds/turnrequest' target='_blank'>申請</a>が必要です。TURNサーバの情報は、<code>Peer</code>オブジェクトのオプションで設定することができます。</p>
    <h3>TURNサーバはどのようにして利用するのでしょうか？</h3>
    <p>Peerオブジェクトを生成する際、オプションのiceServersにURL等の情報を設定してください。</p>
<pre>
var peer = new Peer({
  config: {'iceServers': [
    { url: 'stun:stun.skyway.io:3478' },
    { url: 'turn:homeo@turn.bistri.com:80', credential: 'homeo' }
  ]} /* Sample servers, please use appropriate ones */
});
</pre>
    <p>尚、SkyWayが提供するTURNサーバを利用する場合は、オプションの設定は不要です。</p>
    <h3>現在のブラウザ対応状況は?</h3>

    　<p>WebRTC仕様との互換性並びにブラウザの対応状況は<a href="http://peerjs.com/status">こちら</a>をご覧ください。尚、SkyWay対応版のPeerJSについては、動作に差異がある可能性があります。</p>

    <h3>接続しようとしてるピアに接続できない場合はどうなりますか？</h3>

    <p>ピアに接続できない場合はPeerServerにて接続要求を5秒間保持します。ピアが一時的に再接続するような場合、コネクションを切らずに保持することができます。</p>

    <h3>ピアとつながらない場合は何を確認するべきでしょうか？</h3>
    <p>ピア同士がシンメトリックNATの内側にいる可能性があります。この場合はTURNサーバを利用してください。</p>
    <p>ファイアウォール等でUDPのポート3478（STUNサーバへの問い合わせに必要）をブロックしているかもしれません。STUNサーバへの問い合わせが可能な状況でご利用ください。</p>

    <h3>遅延／帯域幅は?</h3>
    <p>ピア同士のデータのやり取りは、TURNを利用する場合を除き、サーバを経由しないため、それが原因となる遅延などは発生しません。ピア同士の処理性能やネットワーク環境に依存します。</p>
    <p>ピア同士のコネクション確立に関する遅延は、セッション情報の中継（以下、シグナリング）とユーザの識別という2つに分類できます。PeerJSでは、シグナリングの時間を短縮するために、XHRストリーミングリクエストでデータを送った後、WebSocketで送ります。ユーザの識別に関しては手動でIDを指定することで、サーバ側にてIDを生成する際のRTT（Round-Trip delay Time）を短縮することができます。</p>
    <h3>その他</h3>
    <p><a href="https://groups.google.com/forum/#!forum/skywayjs">SkyWay Technical Forum Google Group(日本語/英語)</a></p>
    <p><a href="https://groups.google.com/forum/?fromgroups#!forum/peerjs">PeerJS Google Group(英語のみ)</a></p>
    <h3>免責事項</h3>
    <p>本ドキュメントは<a href="http://peerjs.com/docs/">http://peerjs.com/docs/</a>を元に、NTTコミュニケーションズが提供するSkyWayを利用するための情報等を追記し公開しています。ドキュメント原本に関する個別問い合わせには応じることができませんので、予めご了承ください。</p>

</section>

<header class="left">
    <h2>API Reference<a class="hide icon">&laquo;</a><a class="show icon">&raquo;</a></h2>
</header>
<header class="right">
    <h2>Getting Started</h2>
</header>

<section class="api">
    <div class="toplevel " id="peer"><span class="name"><a href="#peer">Peer</a><span class="tag type constructor">constructor</span><span class="snippet">var peer = new Peer([id], [options]);</span></span><p class="description">他のpeerへ接続できるpeerです。また、他のpeerからのコネクションをlistenできます。</p><div class="children"><div class="child " id="peer-id"><span class="name"><a href="#peer-id"><span class="optional"><span class="bracket">[</span>id<span class="bracket">]</span></span></a><span class="tag type string">string</span></span><p class="description">他のピアがこのピアへ接続するときに使われるIDです。もしIDが指定されない場合、ブローカサーバがIDを生成します。<span class='warn'>このIDを利用してピアを特定するのは推奨しません。なぜならば、このIDはコネクションをブローカ(仲介)するのにのみ使われるように作成されているためです。特定に他の情報を使う場合は、<a href='#peerconnect-options'><code>metadata</code></a>の利用を推奨します。</span></p></div><div class="child " id="peer-options"><span class="name"><a href="#peer-options"><span class="optional"><span class="bracket">[</span>options<span class="bracket">]</span></span></a><span class="tag type object">object</span></span><div class="children"><div class="child " id="peer-options-key"><span class="name"><a href="#peer-options-key">key</a><span class="tag type string">string</span></span><p class="description">クラウド上のPeerServerを利用するためのAPIキーです。</p></div><div class="child " id="peer-options-host"><span class="name"><a href="#peer-options-host">host</a><span class="tag type string">string</span></span><p class="description">サーバのホスト名です。デフォルトは、<code>skyway.io</code>です。相対ホスト名として、'/' も許容します。</p></div><div class="child " id="peer-options-port"><span class="name"><a href="#peer-options-port">port</a><span class="tag type number">number</span></span><p class="description">サーバのポート番号です。デフォルトはホストがskyway.ioの場合は<code>443</code>番で、その他の場合は<code>80</code>番です。</p></div><div class="child " id="peer-options-path"><span class="name"><a href="#peer-options-path">path</a><span class="tag type string">string</span></span><p class="description">自身のPeerServerが動作している場所のpathです。デフォルトは、<code>'/'</code>です。</p></div><div class="child beta_030 " id="peer-options-secure"><span class="name"><a href="#peer-options-secure">secure</a><span class="tag type boolean">boolean</span><span class="tag beta_030">beta (0.3.0)</span></span><p class="description">SSLを利用する場合は、<code>true</code>にします。skyway.ioはSSLを利用するため、デフォルトは、<code>true</code>です。</p></div><div class="child skyway " id="peer-options-turn"><span class="name"><a href="#peer-options-turn">turn</a><span class="tag type boolean">boolean</span><span class="tag skyway">skyway</span></span><p class="description">SkyWayが提供するTURNサーバを利用する場合は、<code>true</code>にします。デフォルトは、<code>true</code>です。利用には別途<a href='https://skyway.io/ds/turnrequest' target='_blank'>申請</a>が必要です。</p></div><div class="child " id="peer-options-config"><span class="name"><a href="#peer-options-config">config</a><span class="tag type object">object</span></span><p class="description">RTCPeerConnectionへ渡される設定項目のハッシュです。このハッシュは、カスタマイズされたICE/TURNサーバを含みます。デフォルト値は、<code>{ 'iceServers': [{ 'url': 'stun:stun.skyway.io:3478' }] }</code>です。尚、SkyWayが提供するTURNサーバを利用する場合は、<code>iceServers</code>の指定は不要です。</p></div><div class="child beta_030 " id="peer-options-debug"><span class="name"><a href="#peer-options-debug">debug</a><span class="tag type number">number</span><span class="tag beta_030">beta (0.3.0)</span></span><p class="description">debugレベルにしたがってログを出力します。デフォルト値は<code>0</code>です。</p><div class="children"><div class="child " id="peer-options-debug-0"><span class="name"><a href="#peer-options-debug-0">0</a></span><p class="description">ログを出力しません。</p></div><div class="child " id="peer-options-debug-1"><span class="name"><a href="#peer-options-debug-1">1</a></span><p class="description">エラーのみログ出力します。</p></div><div class="child " id="peer-options-debug-2"><span class="name"><a href="#peer-options-debug-2">2</a></span><p class="description">エラーと警告をログ出力します。</p></div><div class="child " id="peer-options-debug-3"><span class="name"><a href="#peer-options-debug-3">3</a></span><p class="description">すべてのログを出力します。</p></div></div></div></div></div></div></div><div class="toplevel " id="peerconnect"><span class="name"><a href="#peerconnect">peer.connect</a><span class="tag type method">method</span><span class="snippet">var <a href='#dataconnection'>dataConnection</a> = peer.connect(id, [options]);</span></span><p class="description"><code>id</code>で指定されたリモートのPeerへ接続し、data connectionを返します。コネクションに失敗した場合に備え、<a href='#peeron-error'><code>error</code></a>イベントを設定してください。</p><div class="children"><div class="child " id="peerconnect-id"><span class="name"><a href="#peerconnect-id">id</a><span class="tag type string">string</span></span><p class="description">リモートpeerのブローカーIDです(リモートpeerの<a href='#peerid'><code>peer.id</code></a>です)。</p></div><div class="child " id="peerconnect-options"><span class="name"><a href="#peerconnect-options"><span class="optional"><span class="bracket">[</span>options<span class="bracket">]</span></span></a><span class="tag type object">object</span></span><div class="children"><div class="child " id="peerconnect-options-label"><span class="name"><a href="#peerconnect-options-label">label</a><span class="tag type string">string</span></span><p class="description">data connectionを識別するためのユニークなラベルです。もし特定されていない場合は、ランダムに生成されます。<a href='#dataconnection-label'><code>dataConnection.label</code></a>を通じてアクセスできます。</p></div><div class="child " id="peerconnect-options-metadata"><span class="name"><a href="#peerconnect-options-metadata">metadata</a></span><p class="description">コネクションに関連付けされるメタデータで、コネクションを開始したpeerに渡されます。<a href='#dataconnection-metadata'><code>dataConnection.metadata</code></a>を通じてアクセスできます。serialize可能です。</p></div><div class="child " id="peerconnect-options-serialization"><span class="name"><a href="#peerconnect-options-serialization">serialization</a><span class="tag type string">string</span></span><p class="description"><code>binary</code> (default), <code>binary-utf8</code>, <code>json</code>, or <code>none</code> を指定可能です。<a href='#dataconnection-serialization'><code>dataConnection.serialization</code></a>を通じてアクセスできます。<span class='tip'><code>binary-utf8</code>はパフォーマンスの低下を引き起こすことがあります。UTF8文字列がbinaryフォーマットにパックされるためです。</span></p></div><div class="child " id="peerconnect-options-reliable"><span class="name"><a href="#peerconnect-options-reliable">reliable</a><span class="tag type boolean">boolean</span></span><p class="description">data channelに信頼性をもたせるか(例えば、大きなファイルの転送）、もたせないか（例えば、ゲームやストリーミング）を指定可能です。デフォルトはfalseです。true設定は互換性のないブラウザ（Chrome 30とそれ以下)のために、shimを使います。そのため、完全なパフォーマンスを提供できないことがあります。</p></div></div></div></div></div><div class="toplevel beta_030 " id="peercall"><span class="name"><a href="#peercall">peer.call</a><span class="tag type method">method</span><span class="tag beta_030">beta (0.3.0)</span><span class="snippet">var <a href='#mediaconnection'>mediaConnection</a> = peer.call(id, stream);</span></span><p class="description"><code>id</code>で指定されたリモートのpeerへ発信し、media connectionを返します。コネクションに失敗した場合に備え、<a href='#peeron-error'><code>error</code></a>イベントを設定してください。</p><div class="children"><div class="child " id="peercall-id"><span class="name"><a href="#peercall-id">id</a><span class="tag type string">string</span></span><p class="description">リモートpeerのブローカーID(リモートpeerの<a href='#peerid'><code>peer.id</code></a>)です。</p></div><div class="child " id="peercall-stream"><span class="name"><a href="#peercall-stream">stream</a><span class="tag type MediaStream">MediaStream</span></span><p class="description">何らかのストリームです。</p></div></div></div><div class="toplevel " id="peeron"><span class="name"><a href="#peeron">peer.on</a><span class="tag type method">method</span><span class="snippet">peer.on(event, callback);</span></span><p class="description">peerイベントのリスナを設定します。</p><div class="children"><div class="child " id="peeron-open"><span class="name"><a href="#peeron-open">'open'</a><span class="tag type event">event</span><span class="snippet">peer.on('open', function(id) { ... });</span></span><p class="description">PeerServerへの接続が確立すると発生します。このイベントが発生する前にpeerを利用することもできますが、サーバへのメッセージはキューイングされます。<code>id</code>はブローカーIDです（コンストラクタで指定されるか、サーバによって割付けされます）。<span class='tip'>コネクションの速度が重要である場合、他のピアへ接続する前に、このイベントを待つべきではありません。</span> </p></div><div class="child " id="peeron-connection"><span class="name"><a href="#peeron-connection">'connection'</a><span class="tag type event">event</span><span class="snippet">peer.on('connection', function(<a href='#dataconnection'>dataConnection</a>) { ... });</span></span><p class="description">リモートピアと新しいdata connectionが確立すると発生します。</p></div><div class="child beta_030 " id="peeron-call"><span class="name"><a href="#peeron-call">'call'</a><span class="tag type event">event</span><span class="tag beta_030">beta (0.3.0)</span><span class="snippet">peer.on('call', function(<a href='#mediaconnection'>mediaConnection</a>) { ... });</span></span><p class="description">リモートのpeerがあなたに発信してきたときに発生します。<code>mediaConnection</code>はこの時点でアクティブではありません。つまり、最初に応答する必要があります（<a href='#mediaconnection-answer'><code>mediaConnection.answer([stream]);</code></a>）。その後、streamイベントをlistenできます。</p></div><div class="child " id="peeron-close"><span class="name"><a href="#peeron-close">'close'</a><span class="tag type event">event</span><span class="snippet">peer.on('close', function() { ... });</span></span><p class="description">ピアとの接続が<a href='#peerdestroy'>destroyed</a>となった場合に発生します。<span class='tip'>peerを確実にクリアするためには、peerが不要となった時点で、peer.destroy()の実行を推奨します。</span></p></div><div class="child " id="peeron-error"><span class="name"><a href="#peeron-error">'error'</a><span class="tag type event">event</span><span class="snippet">peer.on('error', function(err) { ... });</span></span><p class="description">peerに対するエラーは、ほとんど常に致命的であり、peerを破壊します。ソケットから生じるエラーや、PeerConnectionsから生じるエラーは、このイベントに伝えられます。</p><div class="children"><div class="child fatal " id="peeron-error-browser-incompatible"><span class="name"><a href="#peeron-error-browser-incompatible">'browser-incompatible'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">利用しようとしているwebRTC機能のすべて、またはいくつかについて、クライアントのブラウザがサポートしていません。</p></div><div class="child fatal " id="peeron-error-invalid-id"><span class="name"><a href="#peeron-error-invalid-id">'invalid-id'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">Peerコンストラクタへ渡されたIDに、不正な文字が含まれています。</p></div><div class="child fatal " id="peeron-error-invalid-key"><span class="name"><a href="#peeron-error-invalid-key">'invalid-key'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">Peerコンストラクタへ渡されたAPI Keyが不正な文字列を含んでいます。または、API Keyが含まれていません（クラウド上のサーバを利用する場合のみ）。</p></div><div class="child fatal " id="peeron-error-unavailable-id"><span class="name"><a href="#peeron-error-unavailable-id">'unavailable-id'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">Peerコンストラクタへ渡されたIDは既に利用されています。</p></div><div class="child fatal " id="peeron-error-ssl-unavailable"><span class="name"><a href="#peeron-error-ssl-unavailable">'ssl-unavailable'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">PeerJSはsecureな状態を利用しますが、クラウド上のサーバはSSLをサポートしていません。独自のPeerServerを利用してください。</p></div><div class="child " id="peeron-error-server-disconnected"><span class="name"><a href="#peeron-error-server-disconnected">'server-disconnected'</a><span class="tag type Error">Error</span></span><p class="description">既にこのPeerとの接続が切断されており、新しいコネクションを作成できません。</p></div><div class="child fatal " id="peeron-error-server-error"><span class="name"><a href="#peeron-error-server-error">'server-error'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">サーバに到達できません。</p></div><div class="child fatal " id="peeron-error-socket-error"><span class="name"><a href="#peeron-error-socket-error">'socket-error'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">ソケットからのエラーです。</p></div><div class="child fatal " id="peeron-error-socket-closed"><span class="name"><a href="#peeron-error-socket-closed">'socket-closed'</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">ソケットが予期せずクローズしました。</p></div></div></div></div></div><div class="toplevel " id="peerdisconnect"><span class="name"><a href="#peerdisconnect">peer.disconnect</a><span class="tag type method">method</span><span class="snippet">peer.disconnect();</span></span><p class="description">サーバとの接続をクローズします。既存のデータおよびメディア接続はそのままです。<a href='#peerdestroyed'><code>peer.destroyed</code></a>に<code>true</code>が設定されます。<span class='warn'>この操作は必ず実施してください。それぞれのPeerオブジェクトが利用不可能、またはコネクションを受信できません。idも（クラウド上の）サーバに没収されます。</span></p></div><div class="toplevel " id="peerdestroy"><span class="name"><a href="#peerdestroy">peer.destroy</a><span class="tag type method">method</span><span class="snippet">peer.destroy();</span></span><p class="description">サーバへの接続をクローズし、すべての既存のコネクションを終了します。<a href='#peerdestroyed'><code>peer.destroyed</code></a>は<code>true</code>に設定されます。<span class='warn'>この操作は必ず実施してください。それぞれのPeerオブジェクトが利用不可能、またはコネクションを受信できません。idも（クラウド上の）サーバに没収されます。さらに、データコネクション・メディアコネクションもクローズされます。</span></p></div><div class="toplevel skyway " id="peerlistallpeers"><span class="name"><a href="#peerlistallpeers">peer.listAllPeers</a><span class="tag type method">method</span><span class="tag skyway">skyway</span><span class="snippet">peer.listAllPeers(function(list) { ... });</span></span><p class="description">SkyWayが提供するRestAPIにアクセスし、APIキー毎のアクティブなPeerIDを取得します。listはArray形式で得られます。</p></div><div class="toplevel " id="peerid"><span class="name"><a href="#peerid">peer.id</a><span class="tag type string">string</span></span><p class="description">peerのブローカーIDです。もしIDが<a href='#peer'>constructor</a>で指定されない場合、<a href='#peeron-open'><code>open</code></a>が発生するまで、<code>undefined</code>のままです。</p></div><div class="toplevel " id="peerconnections"><span class="name"><a href="#peerconnections">peer.connections</a><span class="tag type object">object</span></span><p class="description">リモートpeerのIDがkeyとして、peerと関連付けされるコネクションを持つハッシュです。<span class='tip'>このハッシュに頼るよりも、自身でコネクションを追跡管理することを推奨します。</span></p></div><div class="toplevel " id="peerdisconnected"><span class="name"><a href="#peerdisconnected">peer.disconnected</a><span class="tag type boolean">boolean</span></span><p class="description">PeerServerとのアクティブなコネクションがある場合は、<code>false</code> です。</p></div><div class="toplevel " id="peerdestroyed"><span class="name"><a href="#peerdestroyed">peer.destroyed</a><span class="tag type boolean">boolean</span></span><p class="description">このpeerにおける、全接続が利用されていない場合は<code>true</code>です。</p></div><div class="toplevel " id="dataconnection"><span class="name"><a href="#dataconnection">DataConnection</a><span class="tag type class">class</span></span><p class="description">WebRTCのData Channelをラップします。このオブジェクトを得るためには、<a href='#peerconnect'><code>peer.connect</code></a>を使うか、<a href='#peeron-connect'><code>connect</code></a>イベントをlistenしてください</p><div class="children"><div class="child " id="dataconnection-send"><span class="name"><a href="#dataconnection-send">.send</a><span class="tag type method">method</span><span class="snippet">dataConnection.send(data);</span></span><p class="description">デフォルトで、<code>data</code> はBinaryPackでシリアライズされて、リモートのピアで送信されます。serializationの値による、各プラットフォーム間(JavaScript, iOS, Android)でのデータ通信の可否と、送受信時のデータ型に関する情報については<a href='https://github.com/nttcom/skyway-docs/blob/master/serialization.md' target='_blank'>こちら</a>をご覧ください。</p><div class="children"><div class="child " id="dataconnection-send-data"><span class="name"><a href="#dataconnection-send-data">data</a></span><p class="description">送信するデータです。</p></div></div></div><div class="child " id="dataconnection-close"><span class="name"><a href="#dataconnection-close">.close</a><span class="tag type method">method</span><span class="snippet">dataConnection.close();</span></span><p class="description">DataChannelとPeerConnectionを解放して、コネクションをクローズします。</p></div><div class="child " id="dataconnection-on"><span class="name"><a href="#dataconnection-on">.on</a><span class="tag type method">method</span><span class="snippet">dataConnection.on(event, callback);</span></span><p class="description">data connectionイベントのリスナを設定します。</p><div class="children"><div class="child " id="dataconnection-on-data"><span class="name"><a href="#dataconnection-on-data">'data'</a><span class="tag type event">event</span><span class="snippet">dataConnection.on('data', function(data) { ... });</span></span><p class="description">リモートpeerからデータを受信した場合に発生します。</p></div><div class="child " id="dataconnection-on-open"><span class="name"><a href="#dataconnection-on-open">'open'</a><span class="tag type event">event</span><span class="snippet">dataConnection.on('open', function() { ... });</span></span><p class="description">コネクションが利用可能となった場合に発生します。</p></div><div class="child " id="dataconnection-on-close"><span class="name"><a href="#dataconnection-on-close">'close'</a><span class="tag type event">event</span><span class="snippet">dataConnection.on('close', function() { ... });</span></span><p class="description">あなたが、またはリモートのpeerがdata connectionをクローズした場合に発生します。<span class='warn'>Firefoxはこのイベントをまだサポートしていません。</span></p></div><div class="child " id="dataconnection-on-error"><span class="name"><a href="#dataconnection-on-error">'error'</a><span class="tag type event">event</span><span class="snippet">dataConnection.on('error', function(err) { ... });</span></span></div></div></div><div class="child " id="dataconnection-buffersize"><span class="name"><a href="#dataconnection-buffersize">.bufferSize</a><span class="tag type number">number</span></span><p class="description">ブラウザのバッファが一杯になった場合に、キューされるメッセージのサイズです。</p></div><div class="child " id="dataconnection-datachannel"><span class="name"><a href="#dataconnection-datachannel">.dataChannel</a><span class="tag type object">object</span></span><p class="description">コネクションに関連付けされたRTCDataChannelオブジェクトへの参照です。</p></div><div class="child " id="dataconnection-label"><span class="name"><a href="#dataconnection-label">.label</a><span class="tag type string">string</span></span><p class="description">コネクションが開始されたときにPeerJSからアサインされる、または指定されるオプションのラベルです。</p></div><div class="child " id="dataconnection-metadata"><span class="name"><a href="#dataconnection-metadata">.metadata</a></span><p class="description">コネクションが開始されたときに、コネクションと関連付けされるメタデータです。</p></div><div class="child " id="dataconnection-open"><span class="name"><a href="#dataconnection-open">.open</a><span class="tag type boolean">boolean</span></span><p class="description">コネクションがopenであり、読み込み/書き込みの準備ができている場合にtrueになります。</p></div><div class="child " id="dataconnection-peerconnection"><span class="name"><a href="#dataconnection-peerconnection">.peerConnection</a><span class="tag type object">object</span></span><p class="description">コネクションに関連付けされる、RTCPeerConnectionへの参照です。</p></div><div class="child " id="dataconnection-peer"><span class="name"><a href="#dataconnection-peer">.peer</a><span class="tag type string">string</span></span><p class="description">コネクションの相手側のpeer IDです。</p></div><div class="child " id="dataconnection-reliable"><span class="name"><a href="#dataconnection-reliable">.reliable</a><span class="tag type boolean">boolean</span></span><p class="description">信頼性のあるdata channelの場合にtrueです。コネクションの開始時に定義されます。</p></div><div class="child " id="dataconnection-serialization"><span class="name"><a href="#dataconnection-serialization">.serialization</a><span class="tag type string">string</span></span><p class="description">コネクションを通じて送信されるデータのserializeフォーマットです。<code>binary</code> (デフォルト値)、 <code>binary-utf8</code>、 <code>json</code>、 または <code>none</code> となります。</p></div><div class="child " id="dataconnection-type"><span class="name"><a href="#dataconnection-type">.type</a><span class="tag type string">string</span></span><p class="description">data connectionでは、常に<code>'data'</code>が設定されます。</p></div></div></div><div class="toplevel beta_030 " id="mediaconnection"><span class="name"><a href="#mediaconnection">MediaConnection</a><span class="tag type class">class</span><span class="tag beta_030">beta (0.3.0)</span></span><p class="description">WebRTCのmedia streamをラップします。このオブジェクトを得るためには、<a href='#peercall'><code>peer.call</code></a>を使うか、<a href='#peeron-call'><code>call</code></a>イベントをlistenしてください。</p><div class="children"><div class="child " id="mediaconnection-answer"><span class="name"><a href="#mediaconnection-answer">.answer</a><span class="tag type method">method</span><span class="snippet">mediaConnection.answer([stream]);</span></span><p class="description"><a href='#peeron-call'><code>call</code></a>イベントを受信した場合に、応答するためにコールバックにて与えられるmedia connectionにて<code>.answer</code>を呼び出せます。また、オプションで自身のmedia streamを設定できます。</p><div class="children"><div class="child " id="mediaconnection-answer-stream"><span class="name"><a href="#mediaconnection-answer-stream"><span class="optional"><span class="bracket">[</span>stream<span class="bracket">]</span></span></a><span class="tag type MediaStream">MediaStream</span></span><p class="description"><a href='https://developer.mozilla.org/en-US/docs/Web/API/Navigator.getUserMedia'><code>getUserMedia</code></a>から取得できるWebRTCのmedia streamです。</p></div></div></div><div class="child " id="mediaconnection-close"><span class="name"><a href="#mediaconnection-close">.close</a><span class="tag type method">method</span><span class="snippet">mediaConnection.close();</span></span><p class="description">media connectionをクローズします。</p></div><div class="child " id="mediaconnection-on"><span class="name"><a href="#mediaconnection-on">.on</a><span class="tag type method">method</span><span class="snippet">mediaConnection.on(event, callback);</span></span><p class="description">media connectionイベントのリスナを設定します。</p><div class="children"><div class="child " id="mediaconnection-on-stream"><span class="name"><a href="#mediaconnection-on-stream">'stream'</a><span class="tag type event">event</span><span class="snippet">mediaConnection.on('stream', function(stream) { ... });</span></span><p class="description">リモートのpeerが<code>stream</code>を追加したときに発生します。</p></div><div class="child " id="mediaconnection-on-close"><span class="name"><a href="#mediaconnection-on-close">'close'</a><span class="tag type event">event</span><span class="snippet">mediaConnection.on('close', function() { ... });</span></span><p class="description">あなたかリモートのpeerがmedia connectionをクローズした時に発生します。<span class='warn'>Firefoxはこのイベントをまだサポートしていません。</span></p></div><div class="child " id="mediaconnection-on-error"><span class="name"><a href="#mediaconnection-on-error">'error'</a><span class="tag type event">event</span><span class="snippet">mediaConnection.on('error', function(err) { ... });</span></span></div></div></div><div class="child " id="mediaconnection-open"><span class="name"><a href="#mediaconnection-open">.open</a><span class="tag type boolean">boolean</span></span><p class="description">media connectionがアクティブなとき（例えば、呼び出しにたいして、応答があった後）に、trueとなります。もし片方向通話のために、最大待ち時間を設定したい場合に、これをチェックできます。</p></div><div class="child " id="mediaconnection-metadata"><span class="name"><a href="#mediaconnection-metadata">.metadata</a></span><p class="description">コネクションが開始されたときに、コネクションと関連付けされるメタデータです。</p></div><div class="child " id="mediaconnection-peer"><span class="name"><a href="#mediaconnection-peer">.peer</a><span class="tag type string">string</span></span><p class="description">コネクションの相手側のpeer IDです。</p></div><div class="child " id="mediaconnection-type"><span class="name"><a href="#mediaconnection-type">.type</a><span class="tag type string">string</span></span><p class="description">media connectionでは、常に<code>'media'</code>が設定されます。</p></div></div></div><div class="toplevel utility " id="util"><span class="name"><a href="#util">util</a><span class="tag type object">object</span><span class="tag utility">utility</span></span><p class="description">多数の有用なユーティリティを提供します。<span class='warn'>ここで記載されているutlitiesのみ<code>util</code>で保証されます。ここに記載されないutilitiesは予告なく除去されることがあります。これらを、私達は'大きな変更'とは考えません。</span></p><div class="children"><div class="child " id="util-browser"><span class="name"><a href="#util-browser">.browser</a><span class="tag type string">string</span><span class="snippet">if (util.browser === 'Firefox') { /* OK to peer with Firefox peers. */ }</span></span><p class="description">利用中のブラウザを返します。このプロパティは、2つのピアの接続可否を決定する際に有用です。例えば、data connectionsはメジャーなブラウザ間では、まだ相互接続が現時点ではできません。<code>util.browser</code>は現在、'Firefox'、'Chrome'、'Unsupported'、'Supported'(WebRTC互換している不明なブラウザ)の値を持ちます。</p></div><div class="child " id="util-supports"><span class="name"><a href="#util-supports">.supports</a><span class="tag type object">object</span><span class="snippet">if (util.supports.data) { /* OK to start a data connection. */ }</span></span><p class="description">利用中のブラウザにて機能がサポートされているか、WebRTCの機能ごとにマップされるハッシュです。<span class='warn'><code>util.supports</code>は、ここで記載されているプロパティのみ保証します。</span></p><div class="children"><div class="child " id="util-supports-audiovideo"><span class="name"><a href="#util-supports-audiovideo">.audioVideo</a><span class="tag type boolean">boolean</span></span><p class="description">利用中のブラウザが、media streamとPeerConnectionをサポートしている場合にtrueとなります。</p></div><div class="child " id="util-supports-data"><span class="name"><a href="#util-supports-data">.data</a><span class="tag type boolean">boolean</span></span><p class="description">利用中のブラウザが、DataChannelとPeerConnectionをサポートしている場合にtrueとなります。</p></div><div class="child " id="util-supports-binary"><span class="name"><a href="#util-supports-binary">.binary</a><span class="tag type boolean">boolean</span></span><p class="description">利用中のブラウザが、binary DataChannelをサポートしている場合にtrueとなります。</p></div><div class="child " id="util-supports-reliable"><span class="name"><a href="#util-supports-reliable">.reliable</a><span class="tag type boolean">boolean</span></span><p class="description">利用中のブラウザが、信頼性のあるDataChannelをサポートしている場合にtrueとなります。</p></div></div></div></div></div>
</section>
</div>
<div id="iOS">
<section class="start">
    <h1><a href="/skyway/">SkyWay iOS SDK</a> <span class="title">docs</span></h1>
    <p><br>SkyWayは、WebRTCを利用したピア·ツー·ピアのデータ、ビデオ、オーディオ通信を簡単に実現することができます。「SkyWay iOS SDK」はSkyWayをiOSから利用できるフレームワークです。このドキュメントでは、SkyWay iOS SDKの基本的な使い方を紹介します。SkyWay iOS SDKを用いた実装例をご覧になりたい方は, <a href="https://github.com/nttcom/SkyWay-iOS-Sample">サンプルアプリ</a> を御覧ください。</P>
    <h2>セットアップ</h2>
    <h3>1. 必要なライブラリ、フレームワークを追加</h3>
    <p>下記のライブラリ、フレームワークをXcodeプロジェクトに追加してください。</p>
    <pre>AudioToolbox.framework
AVFoundation.framework
CoreMedia.framework
CoreVideo.framework
VideoToolbox.framework
CoreGraphoics.framework
Foundation.framework
GLKit.framework
SystemConfiguration.framework
libc++.dylib
libstdc++.6.0.9.dylib
libsqlite3.dylib
libicucore.dylib</pre>
    <h3>2. SkyWay iOS SDKのインポート</h3>
    <p>SkyWay.frameworkをXcodeプロジェクトに追加後、SkyWay iOS SDKのヘッダファイルをインポートしてください。また、Build SettingsのLinking > Other Linker Flagsに-ObjCが設定されているか確認してください。</p>
    <pre>#import &lt;SkyWay/SKWPeer.h&gt;</pre>
    <p>※現在Bitcodeには内部ライブラリの関係上、対応しておりません。Xcode7以上をお使いの方は、Build SettingsのBuild Options > Enable BitcodeをNOに設定してください。</p>
    <h3>3. SKWPeerオブジェクトを作成</h3>
    <p>SKWPeerオブジェクトは、Peerコネクションを生成、受信する為に利用します。</p>
    <pre>SKWPeerOption* options = [[SKWPeerOption alloc] init];
options.key = @"{APIKEY}";
options.domain = @”{DOMAIN}”;
SKWPeer* peer = [[SKWPeer alloc] initWithOptions:options];</pre>
    <p>SKWPeerのコンストラクタに渡す'APIKEY'は、SkyWayのAPIキーです。<a
            href="https://skyway.io/ds/registration/">APIキーの申し込み</a>を行うことで無料で取得することができます。APIキー申込時には利用ドメインを申請していただきます。APIキーは申請したドメインからのみ利用可能です。</p>

    <p>セッション情報交換やシグナリングに利用するサーバを、自身で構築することもできます。
        詳しくは<a href="http://github.com/peers/peerjs-server">peerjs-server</a>をご覧ください。</p>
    <p>これで利用するための準備はすべて整いました！</p>

    <h2>使い方</h2>
    <p>SKWPeerオブジェクトは生成時、ランダムなID（以下、PeerID）が付与されます。</p>
      <pre>[peer on:SKW_PEER_EVENT_OPEN callback:^(NSObject* obj)
{
    if (YES == [obj isKindOfClass:[NSString class]])
    {
        NSString* ownId = (NSString *)obj;
    }
}];</pre>
    <p>他のPeerと接続したい場合は、接続先のPeerIDが必要になります。
        SKWPeerクラスの<a href="#iOS-skwpeer-listallpeers">listAllPeers</a>メソッドを用いて接続先のPeerIDを入手するか、何らかの仕組みでPeerIDを交換してください。<a href="#iOS-skwpeer">SKWPeerコンストラクタ</a>のオプションに任意のPeerIDを指定する事もできます</p>

    <p>その他の<a href="#iOS-skwpeeroption">オプション</a>、メソッド、<a href="#iOS-skwpeer-on">イベント</a>、<a href="#iOS-skwpeer-on-event-skw_peer_event_error">エラー処理</a>などの詳細は、<a href="#iOS-skwpeer">Peer API リファレンス</a>をお読みください。</p>

    <h3>Data connections</h3>
    <p>相手のPeerIDを指定してSKWPeerの<code>connectWithId</code>メソッドを実行するとdata connectionを開始します。相手から接続要求はいつでも<code>SKW_PEER_EVENT_CONNECTION</code>イベントを利用して受け取ることができます。 </p>
    <div class="pre-title">接続開始</div>
    <pre>SKWDataConnection* dataConnection = [peer connectWithId:'dest-peer-id'];</pre>
    <div class="pre-title">接続イベントの受信</div>
    <pre>[peer on:SKW_PEER_EVENT_CONNECTION callback:^(NSObject* dataConnection){ ... }];</pre>
    <p>SKWPeerの<code>connectWithId</code>メソッドと<code>SKW_PEER_EVENT_CONNECTION</code>イベントのコールバックでは<code>SKWDataConnection</code>オブジェクトを提供します。このオブジェクトを使用してデータの送受信を行うことができます。</p>
      <pre>[dataConnection on:SKW_DATACONNECTION_EVENT_OPEN callback:^(NSObject* obj){ ... }];
[dataConnection on:SKW_DATACONNECTION_EVENT_DATA callback:^(NSObject* obj)
{
    //文字列データの受信
    NSString* strData = nil;
    if ([obj isKindOfClass:[NSString class]])
    {
        strData = (NSString *)obj;
    }
}];
// メッセージを送信
BOOL bResult = [dataConnection send:@"Hello SkyWay!"];
if (NO == bResult)
{
    // 送信失敗
}
else
{
    // 送信成功
}
      </pre>
    <p>メソッドとイベントの詳細は、<a href="#iOS-skwdataconnection">DataConnection API リファレンス</a>をご覧ください。</p>
    <h3>Video/audio calls</h3>
    <p>相手のPeerIDを指定してSKWPeerの<code>callWithId</code>メソッドを実行することで、その相手を呼び出すことができます。相手があなたを呼び出した場合、 <code>SKW_PEER_EVENT_CALL</code>イベントが発生します。
    <p><code>SKW_PEER_EVENT_CALL</code>イベントを受信した時は、必ずそのイベントに応答する必要があります。応答しなければ接続は確立しません。</p>
    <div class="pre-title">呼び出し開始</div>
    <pre>SKWMediaConnection* mediaConnection = [peer callWithId:dest-peer-id stream:mediaStream];</pre>
    <div class="pre-title">呼び出しへの応答</div>
    <pre>[peer on:SKW_PEER_EVENT_CALL callback:^(NSObject* mediaConnection){
    [mediaConnection answer:mediaStream];
}];</pre>
    <p>相手を呼び出す時、または、呼び出しに応答する時には、SKWMediaStreamを提供する必要があります。
        SKWMediaStreamにはビデオストリーム（カメラの映像）やオーディオストリームなどがあり、SKWNavigatorの<a href="#iOS-skwnavigator-getusermedia"><code>getUserMedia</code></a>メソッドによって取得することができます。
        尚、呼び出しに応答する時のSKWMediaStreamは必須ではありません。もし応答時にSKWMediaStreamをセットしなければ、一方向の通話が確立されます。
        通話が確立されると、<code>isOpen</code>プロパティにYESがセットされます。
    <p>SKWPeerの<code>callWithId</code>と<code>SKW_PEER_EVENT_CALL</code>イベントのコールバックではSKWMediaConnectionオブジェクトを提供します。
        SKWMediaConnectionオブジェクトは<code>SKW_MEDIACONNECTION_EVENT_STREAM</code> イベントをキャッチすることができます。<code>SKW_MEDIACONNECTION_EVENT_STREAM</code>イベントのコールバックには相手の映像／音声ストリームが含まれます。</p>
      <pre>[mediaConnection on:SKW_MEDIACONNECTION_EVENT_STREAM callback:^(NSObject* stream)
{
    // 'stream' は接続先のSKWMediaStreamです。
    // ここでSKWVideoに追加
}];</pre>
    <p>詳しくは <a href="#iOS-skwmediaconnection">MediaConnection API reference</a> をご覧ください。</p>

    <h2>SkyWay RestAPIの使い方</h2>
    <h3>listAllPeers</h3>
    <p>APIキー毎のアクティブなPeerIDを取得します。<p>
      <pre>[peer listAllPeers:^(NSArray* aryPeers)
{
    for (NSString* strPeer in aryPeers)
    {
        ...
    }
}];
</pre>


    <p>SkyWay RestAPIはAPIキー申請時に申請していただいたドメインからのみアクセスが可能です。</p>

    <h2>FAQ</h2>

    <h3>どのような種類のデータを送ることができますか？</h3>

    <p>SkyWay iOS SDKは<a href="#iOS-skwconnectoption-serialization">serialization</a>をbinaryまたはbinary-utf8にした場合、<a href="https://github.com/gabriel/MPMessagePack">MessagePack</a>シリアライゼーションフォーマットを利用します。NSData*,NSString*,NSNumber*,NSDictionary*,NSArray*を簡単な手順で送受信することができます。</p>
          <pre>
NSDictionary* dctData = @{
    @"1": @"one",
    @"2": @"two",
    @"3": @"three",
    @"4": @"four",
    @"5": @"five",
    };
BOOL bResult = [_dataConnection send:dctData];</pre>
    <p>serializationの設定値による、各プラットフォーム間(JavaScript, iOS, Android)でのデータ通信の可否と、送受信時のデータ型に関する情報については<a href='https://github.com/nttcom/skyway-docs/blob/master/serialization.md' target="_blank">こちら</a>をご覧ください。</p>

    <h3>SkyWay iOS SDKを利用することができないシーンはありますか？</h3>

    <p>シンメトリックNATの内側にいるクライアント同士はNATを超えることができないため、通信することができません。
        ただし、TURNサーバを利用して接続を中継すれば回避することができます。必要であれば、SkyWayが提供するTURNサーバを利用するか別途用意してください。SkyWayが提供するTURNサーバを利用する場合は別途<a href='https://skyway.io/ds/turnrequest' target='_blank'>申請</a>が必要です。TURNサーバの情報は、<code>SKWPeer</code>コンストラクタのオプションで設定することができます。</p>
    <h3>TURNサーバはどのようにして利用するのでしょうか？</h3>
    <p>SKWPeerオブジェクトを生成する際、SKWPeerOption内のconfigプロパティにおいてSKWIceConfigオブジェクトにURL等の情報を設定してください。</p>
<pre>
SKWIceConfig* configStun = [[SKWIceConfig alloc] init];
configStun.url = @"stun:stun.skyway.io:3478";

SKWIceConfig* configTurn = [[SKWIceConfig alloc] init];
configTurn.url = @"turn:homeo@turn.bistri.com:80";
configTurn.credential = @"homeo";
//設定例はサンプルです。利用時には適切なサーバを設定してください。

SKWPeerOption* options = [[SKWPeerOption alloc] init];
option.config = @[configStun,configTurn];

SKWPeer* peer = [[SKWPeer alloc] initWithOptions:options];
</pre>
    <p>尚、SkyWayが提供するTURNサーバを利用する場合は、オプションの設定は不要です。</p>
    <h3>接続しようとしてるピアに接続できない場合はどうなりますか？</h3>

    <p>ピアに接続できない場合はPeerServerにて接続要求を5秒間保持します。ピアが一時的に再接続するような場合、コネクションを切らずに保持することができます。</p>

    <h3>ピアとつながらない場合は何を確認するべきでしょうか？</h3>
    <p>ピア同士がシンメトリックNATの内側にいる可能性があります。この場合はTURNサーバを利用してください。</p>
    <p>ファイアウォール等でUDPのポート3478（STUNサーバへの問い合わせに必要）をブロックしているかもしれません。STUNサーバへの問い合わせが可能な状況でご利用ください。</p>

    <h3>遅延／帯域幅は?</h3>
    <p>ピア同士のデータのやり取りは、TURNを利用する場合を除き、サーバを経由しないため、それが原因となる遅延などは発生しません。ピア同士の処理性能やネットワーク環境に依存します。</p>
    <p>ピア同士のコネクション確立に関する遅延は、セッション情報の中継（以下、シグナリング）とユーザの識別という2つに分類できます。PeerJSでは、シグナリングの時間を短縮するために、XHRストリーミングリクエストでデータを送った後、WebSocketで送ります。ユーザの識別に関しては手動でIDを指定することで、サーバ側にてIDを生成する際のRTT（Round-Trip delay Time）を短縮することができます。</p>

    <h3>対応OS</h3>
    <p>iOS 7+</p>

    <h3>動作確認機種</h3>
    <p>iPhone 5+、iPodTouch 6+、iPad 2+</p>

    <h3>その他</h3>
    <p><a href="https://groups.google.com/forum/#!forum/skywayjs">SkyWay Technical Forum Google Group(日本語/英語)</a></p>
    <h3>免責事項</h3>
    <p>本ドキュメントは<a href="http://peerjs.com/docs/">http://peerjs.com/docs/</a>を元に、NTTコミュニケーションズが提供するSkyWayを利用するための情報等を追記し公開しています。ドキュメント原本に関する個別問い合わせには応じることができませんので、予めご了承ください。</p>

</section>

<header class="left">
    <h2>API Reference<a class="hide icon">&laquo;</a><a class="show icon">&raquo;</a></h2>
</header>
<header class="right">
    <h2>Getting Started</h2>
</header>

<section class="api">
    <div class="toplevel " id="iOS-skwpeer"><span class="name"><a href="#iOS-skwpeer">SKWPeer</a><span class="tag type CLASS">CLASS</span><span class="snippet">SKWPeer* peer = [[SKWPeer alloc] initWithId:peerId options:options];<br>SKWPeer* peer = [[SKWPeer alloc] initWithOptions:options];</span></span><p class="description">他のpeerへ接続できるpeerです。また、他のpeerからのコネクションをlistenできます。</p><div class="children"><div class="child " id="iOS-skwpeer-peerid"><span class="name"><a href="#iOS-skwpeer-peerid"><span class="optional"><span class="bracket">[</span>peerId<span class="bracket">]</span></span></a><span class="tag type NSString">NSString</span></span><p class="description">他のピアがこのピアへ接続するときに使われるIDです。もしIDが指定されない場合、ブローカサーバがIDを生成します。<span class='warn'>このIDを利用してピアを特定するのは推奨しません。なぜならば、このIDはコネクションをブローカ(仲介)するのにのみ使われるように作成されているためです。特定に他の情報を使う場合は、<a href='#iOS-skwconnectoption-metadata'><code>metadata</code></a>の利用を推奨します。</span></p></div><div class="child " id="iOS-skwpeer-options"><span class="name"><a href="#iOS-skwpeer-options">options</a><span class="tag type <a href='#iOS-skwpeeroption'>SKWPeerOption</a>"><a href='#iOS-skwpeeroption'>SKWPeerOption</a></span></span><p class="description">設定情報オブジェクトを指定します。</p></div><div class="child " id="iOS-skwpeer-connectwithid"><span class="name"><a href="#iOS-skwpeer-connectwithid">connectWithId</a><span class="tag type METHOD">METHOD</span><span class="snippet">SKWDataConnection* dataConnection = [peer connectWithId:peerId];<br>SKWDataConnection* dataConnection = [peer connectWithId:peerId options:options];</span></span><p class="description"><code>id</code>で指定されたリモートのPeerへ接続し、SKWDataConnectionを返します。コネクションに失敗した場合は、<a href='#iOS-skwpeer-on-event-skw_peer_event_error'><code>error</code></a>イベントが呼び出されます。</p><div class="children"><div class="child " id="iOS-skwpeer-connectwithid-peerid"><span class="name"><a href="#iOS-skwpeer-connectwithid-peerid">peerId</a><span class="tag type NSString">NSString</span></span><p class="description">リモートpeerのブローカーIDです(リモートpeerの<a href='#iOS-skwpeer-identity'><code>identity</code></a>です)。</p></div><div class="child " id="iOS-skwpeer-connectwithid-options"><span class="name"><a href="#iOS-skwpeer-connectwithid-options"><span class="optional"><span class="bracket">[</span>options<span class="bracket">]</span></span></a><span class="tag type <a href='#iOS-skwconnectoption'>SKWConnectOption</a>"><a href='#iOS-skwconnectoption'>SKWConnectOption</a></span></span><p class="description">設定情報オブジェクトを指定します。</p></div></div></div><div class="child " id="iOS-skwpeer-callwithid"><span class="name"><a href="#iOS-skwpeer-callwithid">callWithId</a><span class="snippet">SKWMediaConnection* mediaConnection = [peer callWithId:peerId stream:stream];<br>SKWMediaConnection* mediaConnection = [peer callWithId:peerId stream:stream options:options];</span></span><p class="description"><code>id</code>で指定されたリモートのpeerへ発信し、SKWMediaConnectionを返します。コネクションに失敗した場合に備え、<a href='#iOS-skwpeer-on-event-skw_peer_event_error'><code>error</code></a>イベントが発生します。</p><div class="children"><div class="child " id="iOS-skwpeer-callwithid-peerid"><span class="name"><a href="#iOS-skwpeer-callwithid-peerid">peerId</a><span class="tag type NSString">NSString</span></span><p class="description">リモートpeerのブローカーID(リモートpeerの<a href='#iOS-skwpeer-identity'><code>identity</code></a>)です。</p></div><div class="child " id="iOS-skwpeer-callwithid-stream"><span class="name"><a href="#iOS-skwpeer-callwithid-stream">stream</a><span class="tag type <a href='#iOS-skwmediastream'>SKWMediaStream</a>"><a href='#iOS-skwmediastream'>SKWMediaStream</a></span></span><p class="description">使用するローカルメディアストリームです。</p></div><div class="child " id="iOS-skwpeer-callwithid-options"><span class="name"><a href="#iOS-skwpeer-callwithid-options"><span class="optional"><span class="bracket">[</span>options<span class="bracket">]</span></span></a><span class="tag type <a href='#iOS-skwcalloption'>SKWCallOption</a>"><a href='#iOS-skwcalloption'>SKWCallOption</a></span></span><p class="description">設定情報オブジェクトを指定します。</p></div></div></div><div class="child " id="iOS-skwpeer-on"><span class="name"><a href="#iOS-skwpeer-on">on</a><span class="tag type METHOD">METHOD</span><span class="snippet">[peer on:event callback:^(NSObject* obj)callback];</span></span><p class="description">SKWPeerのイベントコールバックBlockを設定します。</p><div class="children"><div class="child " id="iOS-skwpeer-on-event"><span class="name"><a href="#iOS-skwpeer-on-event">event</a><span class="tag type SKWPeerEventEnum">SKWPeerEventEnum</span></span><p class="description">設定するイベント種別を指定します。</p><div class="children"><div class="child " id="iOS-skwpeer-on-event-skw_peer_event_open"><span class="name"><a href="#iOS-skwpeer-on-event-skw_peer_event_open">SKW_PEER_EVENT_OPEN</a><span class="snippet">[peer on:SKW_PEER_EVENT_OPEN callback:^(NSObject* ownId){ ... }];</span></span><p class="description">PeerServerへの接続が確立すると発生します。このイベントが発生する前にpeerを利用することもできますが、サーバへのメッセージはキューイングされます。<code>ownId</code>はブローカーIDです（SKWPeerコンストラクタで指定されるか、サーバによって割付けされます）。<span class='tip'>コネクションの速度が重要である場合、他のピアへ接続する前に、このイベントを待つべきではありません。</span> </p></div><div class="child " id="iOS-skwpeer-on-event-skw_peer_event_connection"><span class="name"><a href="#iOS-skwpeer-on-event-skw_peer_event_connection">SKW_PEER_EVENT_CONNECTION</a><span class="snippet">[peer on:SKW_PEER_EVENT_CONNECTION callback:^(NSObject* dataConnection){ ... }];</span></span><p class="description">リモートピアと新しいdata connectionが確立すると発生します。callbackの引数はSKWDataConnectionクラスになります。</p></div><div class="child " id="iOS-skwpeer-on-event-skw_peer_event_call"><span class="name"><a href="#iOS-skwpeer-on-event-skw_peer_event_call">SKW_PEER_EVENT_CALL</a><span class="snippet">[peer on:SKW_PEER_EVENT_CALL callback:^(NSObject* mediaConnection){ ... }];</span></span><p class="description">リモートのpeerがあなたに発信してきたときに発生します。callbackの引数はSKWMediaConnectionクラスになります。<code>mediaConnection</code>はこの時点でアクティブではありません。つまり、最初に応答する必要があります（<a href='#iOS-skwmediaconnection-answer'><code>[mediaConnection answer:stream];</code></a>）。その後、streamイベントをlistenできます。</p></div><div class="child " id="iOS-skwpeer-on-event-skw_peer_event_close"><span class="name"><a href="#iOS-skwpeer-on-event-skw_peer_event_close">SKW_PEER_EVENT_CLOSE</a><span class="snippet">[peer on:SKW_PEER_EVENT_CLOSE callback:^(NSObject* obj){ ... }];</span></span><p class="description">ピアとの接続が<a href='#iOS-skwpeer-isdestroyed'>destroyed</a>となった場合に発生します。<span class='tip'>peerを確実にクリアするためには、peerが不要となった時点で、peer.destroy()の実行を推奨します。</span></p></div><div class="child " id="iOS-skwpeer-on-event-skw_peer_event_disconnected"><span class="name"><a href="#iOS-skwpeer-on-event-skw_peer_event_disconnected">SKW_PEER_EVENT_DISCONNECTED</a><span class="snippet">[peer on:SKW_PEER_EVENT_DISCONNECTED callback:^(NSObject* obj){ ... }];</span></span><p class="description">ピアとの接続が<a href='#iOS-skwpeer-isdisconnected'>disconnected</a>となった場合に発生します。</p></div><div class="child " id="iOS-skwpeer-on-event-skw_peer_event_error"><span class="name"><a href="#iOS-skwpeer-on-event-skw_peer_event_error">SKW_PEER_EVENT_ERROR</a><span class="snippet">[peer on:SKW_PEER_EVENT_ERROR callback:^(NSObject* obj){ ... }];</span></span><p class="description">callbackの引数は<a href='#iOS-skwpeererror'>SKWPeerError</a>クラスになります。peerに対するエラーは、ほとんど常に致命的であり、peerを破壊します。ソケットから生じるエラーや、PeerConnectionsから生じるエラーは、このイベントに伝えられます。</p></div></div></div><div class="child " id="iOS-skwpeer-on-callback"><span class="name"><a href="#iOS-skwpeer-on-callback">callback</a></span><p class="description">イベント発生時に実行するBlockを設定します。</p></div></div></div><div class="child " id="iOS-skwpeer-disconnect"><span class="name"><a href="#iOS-skwpeer-disconnect">disconnect</a><span class="tag type METHOD">METHOD</span><span class="snippet">[peer disconnect];</span></span><p class="description">サーバとの接続をクローズします。既存のデータおよびメディア接続はそのままです。<a href='#iOS-skwpeer-isdisconnected'><code>disconnected</code></a>に<code>true</code>が設定されます。<span class='warn'>この操作は必ず実施してください。それぞれのPeerオブジェクトが利用不可能、またはコネクションを受信できません。idも（クラウド上の）サーバに没収されます。</span></p></div><div class="child " id="iOS-skwpeer-reconnect"><span class="name"><a href="#iOS-skwpeer-reconnect">reconnect</a><span class="tag type METHOD">METHOD</span><span class="snippet">[peer reconnect];</span></span><p class="description">シグナリングサーバとの再接続を行います。 peerIDは既に割当済みのIDを使用します。<a href='#iOS-skwpeer-disconnect'><code>disconnect</code></a>されたピアのみ再接続が可能で、<a href='#iOS-skwpeer-destroy'><code>destroy</code></a>されたピアは再接続できません。</p></div><div class="child " id="iOS-skwpeer-destroy"><span class="name"><a href="#iOS-skwpeer-destroy">destroy</a><span class="tag type METHOD">METHOD</span><span class="snippet">[peer destroy];</span></span><p class="description">サーバへの接続をクローズし、すべての既存のコネクションを終了します。<a href='#iOS-skwpeer-isdestroyed'><code>destroyed</code></a>は<code>true</code>に設定されます。<span class='warn'>この操作は必ず実施してください。それぞれのPeerオブジェクトが利用不可能、またはコネクションを受信できません。idも（クラウド上の）サーバに没収されます。さらに、データコネクション・メディアコネクションもクローズされます。</span></p></div><div class="child " id="iOS-skwpeer-listallpeers"><span class="name"><a href="#iOS-skwpeer-listallpeers">listAllPeers</a><span class="tag type METHOD">METHOD</span><span class="snippet">[peer listAllPeers:^(NSArray* aryPeers){ ... }];</span></span><p class="description">SkyWayが提供するRestAPIにアクセスし、APIキー毎のアクティブなPeerIDを取得します。NSStringのNSArrayが渡されます。</p></div><div class="child " id="iOS-skwpeer-identity"><span class="name"><a href="#iOS-skwpeer-identity">identity</a><span class="tag type NSString">NSString</span></span><p class="description">peerのブローカーIDです。もしIDが<a href='#iOS-skwpeer'>SKWPeerクラス</a>で指定されない場合、<a href='#iOS-skwpeer-on-event-skw_peer_event_open'><code>open</code></a>が発生するまで、<code>undefined</code>のままです。</p></div><div class="child " id="iOS-skwpeer-connections"><span class="name"><a href="#iOS-skwpeer-connections">connections</a><span class="tag type NSMutableDictionary">NSMutableDictionary</span></span><p class="description">コネクション接続管理オブジェクトです。リモートpeerのIDがkeyとして、peerと関連付けされるコネクションを持つハッシュです。<span class='tip'>このハッシュに頼るよりも、自身でコネクションを追跡管理することを推奨します。</span></p></div><div class="child " id="iOS-skwpeer-isdisconnected"><span class="name"><a href="#iOS-skwpeer-isdisconnected">isDisconnected</a><span class="tag type BOOL">BOOL</span></span><p class="description">PeerServerとのアクティブなコネクションがある場合は、<code>NO</code> です。</p></div><div class="child " id="iOS-skwpeer-isdestroyed"><span class="name"><a href="#iOS-skwpeer-isdestroyed">isDestroyed</a><span class="tag type BOOL">BOOL</span></span><p class="description">このpeerにおける、全接続が利用されていない場合は<code>YES</code>です。</p></div></div></div><div class="toplevel " id="iOS-skwpeeroption"><span class="name"><a href="#iOS-skwpeeroption">SKWPeerOption</a><span class="tag type CLASS">CLASS</span><span class="snippet">SKWPeerOption* options = [[SKWPeerOption alloc] init];</span></span><p class="description">SKWPeer初期化時のオプション設定情報クラスです。</p><div class="children"><div class="child " id="iOS-skwpeeroption-key"><span class="name"><a href="#iOS-skwpeeroption-key">key</a><span class="tag type NSString">NSString</span></span><p class="description">クラウド上のPeerServerを利用するためのAPIキーです。</p></div><div class="child " id="iOS-skwpeeroption-domain"><span class="name"><a href="#iOS-skwpeeroption-domain">domain</a><span class="tag type NSString">NSString</span></span><p class="description">SkyWayでの開発者登録時に指定したWebサーバのドメイン文字列を指定します。</p></div><div class="child " id="iOS-skwpeeroption-host"><span class="name"><a href="#iOS-skwpeeroption-host"><span class="optional"><span class="bracket">[</span>host<span class="bracket">]</span></span></a><span class="tag type NSString">NSString</span></span><p class="description">サーバのホスト名です。デフォルトは<code>skyway.io</code>となります。</p></div><div class="child " id="iOS-skwpeeroption-port"><span class="name"><a href="#iOS-skwpeeroption-port"><span class="optional"><span class="bracket">[</span>port<span class="bracket">]</span></span></a><span class="tag type NSInteger">NSInteger</span></span><p class="description">サーバのポート番号です。デフォルトは<code>443</code>番となります。</p></div><div class="child " id="iOS-skwpeeroption-path"><span class="name"><a href="#iOS-skwpeeroption-path"><span class="optional"><span class="bracket">[</span>path<span class="bracket">]</span></span></a><span class="tag type NSString">NSString</span></span><p class="description">自身のPeerServerが動作している場所のpathです。デフォルトは、<code>'/'</code>です。</p></div><div class="child " id="iOS-skwpeeroption-secure"><span class="name"><a href="#iOS-skwpeeroption-secure"><span class="optional"><span class="bracket">[</span>secure<span class="bracket">]</span></span></a><span class="tag type BOOL">BOOL</span></span><p class="description">SSLを利用する場合は、<code>YES</code>にします。skyway.ioはSSLを利用するため、デフォルトは、<code>YES</code>です。</p></div><div class="child " id="iOS-skwpeeroption-turn"><span class="name"><a href="#iOS-skwpeeroption-turn"><span class="optional"><span class="bracket">[</span>turn<span class="bracket">]</span></span></a><span class="tag type BOOL">BOOL</span></span><p class="description">SkyWayが提供するTURNサーバを利用する場合は、<code>YES</code>にします。デフォルトは、<code>NO</code>です。利用には別途<a href='https://skyway.io/ds/turnrequest' target='_blank'>申請</a>が必要です。</p></div><div class="child " id="iOS-skwpeeroption-config"><span class="name"><a href="#iOS-skwpeeroption-config"><span class="optional"><span class="bracket">[</span>config<span class="bracket">]</span></span></a><span class="tag type NSArray <SKWIceConfig>">NSArray <SKWIceConfig></span></span><p class="description">STUN/TURNサーバ設定オブジェクト<a href='#iOS-skwiceconfig'><code>SKWIceConfig</code></a>のNSArray*を設定します。デフォルトでは、SkyWayのSTUNサーバ(stun:stun.skyway.io:3478)が設定されています。尚、SkyWayが提供するTURNサーバを利用する場合は、TURNサーバについての記載は不要です。</p></div><div class="child " id="iOS-skwpeeroption-debug"><span class="name"><a href="#iOS-skwpeeroption-debug"><span class="optional"><span class="bracket">[</span>debug<span class="bracket">]</span></span></a><span class="tag type SKWDebugLevelEnum">SKWDebugLevelEnum</span></span><p class="description">debugレベルにしたがってログを出力します。デフォルト値は<code>SKW_DEBUG_LEVEL_NO_LOGS</code>です。</p><div class="children"><div class="child " id="iOS-skwpeeroption-debug-skw_debug_level_no_logs"><span class="name"><a href="#iOS-skwpeeroption-debug-skw_debug_level_no_logs">SKW_DEBUG_LEVEL_NO_LOGS</a></span><p class="description">ログを出力しません。</p></div><div class="child " id="iOS-skwpeeroption-debug-skw_debug_level_only_error"><span class="name"><a href="#iOS-skwpeeroption-debug-skw_debug_level_only_error">SKW_DEBUG_LEVEL_ONLY_ERROR</a></span><p class="description">エラーのみログ出力します。</p></div><div class="child " id="iOS-skwpeeroption-debug-skw_debug_level_error_and_warning"><span class="name"><a href="#iOS-skwpeeroption-debug-skw_debug_level_error_and_warning">SKW_DEBUG_LEVEL_ERROR_AND_WARNING</a></span><p class="description">エラーと警告をログ出力します。</p></div><div class="child " id="iOS-skwpeeroption-debug-skw_debug_level_all_logs"><span class="name"><a href="#iOS-skwpeeroption-debug-skw_debug_level_all_logs">SKW_DEBUG_LEVEL_ALL_LOGS</a></span><p class="description">すべてのログを出力します。</p></div></div></div></div></div><div class="toplevel " id="iOS-skwiceconfig"><span class="name"><a href="#iOS-skwiceconfig">SKWIceConfig</a><span class="tag type CLASS">CLASS</span><span class="snippet">SKWIceConfig* config = [[SKWIceConfig alloc] init];</span></span><p class="description">SKWPeer初期化時のSTUN/TURNサーバ設定情報クラスです。</p><div class="children"><div class="child " id="iOS-skwiceconfig-url"><span class="name"><a href="#iOS-skwiceconfig-url">url</a><span class="tag type NSString">NSString</span></span><p class="description">STUN/TURN サーバの URL を指定します。</p></div><div class="child " id="iOS-skwiceconfig-username"><span class="name"><a href="#iOS-skwiceconfig-username"><span class="optional"><span class="bracket">[</span>username<span class="bracket">]</span></span></a><span class="tag type NSString">NSString</span></span><p class="description">ユーザー名が必要な場合に設定します。</p></div><div class="child " id="iOS-skwiceconfig-credential"><span class="name"><a href="#iOS-skwiceconfig-credential"><span class="optional"><span class="bracket">[</span>credential<span class="bracket">]</span></span></a><span class="tag type NSString">NSString</span></span><p class="description">パスワードが必要な場合に設定します。</p></div></div></div><div class="toplevel " id="iOS-skwconnectoption"><span class="name"><a href="#iOS-skwconnectoption">SKWConnectOption</a><span class="tag type CLASS">CLASS</span><span class="snippet">SKWConnectOption* options = [[SKWConnectOption alloc] init];</span></span><p class="description">SKWPeerのconnect実行時のオプション設定情報クラスです。</p><div class="children"><div class="child " id="iOS-skwconnectoption-label"><span class="name"><a href="#iOS-skwconnectoption-label">label</a><span class="tag type NSString">NSString</span></span><p class="description">data connectionを識別するためのユニークなラベルです。もし特定されていない場合は、ランダムに生成されます。dataConnection.<a href='#iOS-skwdataconnection-label'><code>label</code></a>を通じてアクセスできます。</p></div><div class="child " id="iOS-skwconnectoption-metadata"><span class="name"><a href="#iOS-skwconnectoption-metadata">metadata</a><span class="tag type NSString">NSString</span></span><p class="description">コネクションに関連付けされるメタデータで、コネクションを開始したpeerに渡されます。dataConnection.<a href='#iOS-skwdataconnection-metadata'><code>metadata</code></a>を通じてアクセスできます。serialize可能です。</p></div><div class="child " id="iOS-skwconnectoption-serialization"><span class="name"><a href="#iOS-skwconnectoption-serialization">serialization</a><span class="tag type SKWSerializationEnum">SKWSerializationEnum</span></span><p class="description">データ通信形式を指定します。デフォルトで SKW_SERIALIZATION_BINARYが設定されます。この値によってdataConnection.<a href='#iOS-skwdataconnection-send'><code>send</code></a>で送れるデータ型が変化します。dataConnection.<a href='#iOS-skwdataconnection-serialization'><code>serialization</code></a>にて確認できます。</p><div class="children"><div class="child " id="iOS-skwconnectoption-serialization-skw_serialization_binary"><span class="name"><a href="#iOS-skwconnectoption-serialization-skw_serialization_binary">SKW_SERIALIZATION_BINARY</a></span><p class="description">データ通信形式を<code>binary</code>にします。</p></div><div class="child " id="iOS-skwconnectoption-serialization-skw_serialization_binary_utf8"><span class="name"><a href="#iOS-skwconnectoption-serialization-skw_serialization_binary_utf8">SKW_SERIALIZATION_BINARY_UTF8</a></span><p class="description">データ通信形式を<code>binary-utf8</code>にします。</p></div><div class="child " id="iOS-skwconnectoption-serialization-skw_serialization_json"><span class="name"><a href="#iOS-skwconnectoption-serialization-skw_serialization_json">SKW_SERIALIZATION_JSON</a></span><p class="description">データ通信形式を<code>json</code>にします。</p></div><div class="child " id="iOS-skwconnectoption-serialization-skw_serialization_none"><span class="name"><a href="#iOS-skwconnectoption-serialization-skw_serialization_none">SKW_SERIALIZATION_NONE</a></span><p class="description">データ通信形式を<code>none</code>にします。</p></div></div></div><div class="child " id="iOS-skwconnectoption-reliable"><span class="name"><a href="#iOS-skwconnectoption-reliable">reliable</a><span class="tag type BOOL">BOOL</span></span><p class="description">data channelに信頼性をもたせるか(例えば、大きなファイルの転送）、もたせないか（例えば、ゲームやストリーミング）を指定可能です。デフォルトはNOです。</p></div></div></div><div class="toplevel " id="iOS-skwcalloption"><span class="name"><a href="#iOS-skwcalloption">SKWCallOption</a><span class="tag type CLASS">CLASS</span><span class="snippet">SKWCallOption* options = [[SKWCallOption alloc] init];</span></span><p class="description">SKWPeerのcall実行時のオプション設定情報クラスです。</p><div class="children"><div class="child " id="iOS-skwcalloption-metadata"><span class="name"><a href="#iOS-skwcalloption-metadata">metadata</a></span><p class="description">コネクションと関連付けされるメタデータ文字列です。</p></div></div></div><div class="toplevel " id="iOS-skwpeererror"><span class="name"><a href="#iOS-skwpeererror">SKWPeerError</a><span class="tag type CLASS">CLASS</span></span><p class="description">”error”イベント時に取得できるクラスです。OS からのエラー情報が存在した場合、エラー情報オブジェクトがプロパティerrorに参照されます。</p><div class="children"><div class="child " id="iOS-skwpeererror-type"><span class="name"><a href="#iOS-skwpeererror-type">type</a><span class="tag type SKWPeerErrorEnum">SKWPeerErrorEnum</span></span><p class="description">列挙型のエラータイプが設定されます。</p><div class="children"><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_no_error"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_no_error">SKW_PEER_ERR_NO_ERROR</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">エラーがない状態です</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_browser_incompatible"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_browser_incompatible">SKW_PEER_ERR_BROWSER_INCOMPATIBLE</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">利用しようとしているwebRTC機能のすべて、またはいくつかについて、サポートしていません。</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_invalid_id"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_invalid_id">SKW_PEER_ERR_INVALID_ID</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">SKWPeerクラスへ渡されたIDに、不正な文字が含まれています。</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_invalid_key"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_invalid_key">SKW_PEER_ERR_INVALID_KEY</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">SKWPeerクラスへ渡されたAPI Keyが不正な文字列を含んでいます。または、API Keyが含まれていません（クラウド上のサーバを利用する場合のみ）。</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_unavailable_id"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_unavailable_id">SKW_PEER_ERR_UNAVAILABLE_ID</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">SKWPeerクラスへ渡されたIDは既に利用されています。</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_ssl_unavailable"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_ssl_unavailable">SKW_PEER_ERR_SSL_UNAVAILABLE</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">SSL関連のエラーです。</p></div><div class="child " id="iOS-skwpeererror-type-skw_peer_err_disconnected"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_disconnected">SKW_PEER_ERR_DISCONNECTED</a><span class="tag type Error">Error</span></span><p class="description">既にこのPeerとの接続が切断されており、新しいコネクションを作成できません。</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_server_error"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_server_error">SKW_PEER_ERR_SERVER_ERROR</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">サーバに到達できません。</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_socket_error"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_socket_error">SKW_PEER_ERR_SOCKET_ERROR</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">ソケットからのエラーです。</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_socket_closed"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_socket_closed">SKW_PEER_ERR_SOCKET_CLOSED</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">ソケットが予期せずクローズしました。</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_network"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_network">SKW_PEER_ERR_NETWORK</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">シグナリングサーバとのネットワークエラーです。</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_peer_unavailable"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_peer_unavailable">SKW_PEER_ERR_PEER_UNAVAILABLE</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">接続できないPeerに接続しようとしています。</p></div><div class="child fatal " id="iOS-skwpeererror-type-skw_peer_err_webrtc"><span class="name"><a href="#iOS-skwpeererror-type-skw_peer_err_webrtc">SKW_PEER_ERR_WEBRTC</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">WebRTC関連での何からのエラーです。</p></div></div></div><div class="child " id="iOS-skwpeererror-message"><span class="name"><a href="#iOS-skwpeererror-message">message</a><span class="tag type NSString">NSString</span></span><p class="description">エラーメッセージです。</p></div><div class="child " id="iOS-skwpeererror-error"><span class="name"><a href="#iOS-skwpeererror-error">error</a><span class="tag type NSError">NSError</span></span><p class="description">OSからのエラー情報オブジェクトです。</p></div></div></div><div class="toplevel " id="iOS-skwdataconnection"><span class="name"><a href="#iOS-skwdataconnection">SKWDataConnection</a><span class="tag type CLASS">CLASS</span></span><p class="description">WebRTCのData Channelをラップします。このオブジェクトを得るためには、SKWPeerの<a href='#iOS-skwpeer-connectwithid'><code>connectWithId</code></a>を使うか、<a href='#iOS-skwpeer-on-event-skw_peer_event_connection'><code>SKW_PEER_EVENT_CONNECTION</code></a>発生時に渡されるオブジェクトを使用してください。</p><div class="children"><div class="child " id="iOS-skwdataconnection-send"><span class="name"><a href="#iOS-skwdataconnection-send">send</a><span class="tag type METHOD">METHOD</span><span class="snippet">BOOL bResult = [dataConnection send:data];</span></span><p class="description">接続中のリモートピアにデータを送信します。プロパティ<a href='#iOS-skwdataconnection-serialization'><code>serialization</code></a>の値によって送信処理が変わります。serializationの値による、各プラットフォーム間(JavaScript, iOS, Android)でのデータ通信の可否と、送受信時のデータ型に関する情報については<a href='https://github.com/nttcom/skyway-docs/blob/master/serialization.md' target='_blank'>こちら</a>をご覧ください。</p><div class="children"><div class="child " id="iOS-skwdataconnection-send-data"><span class="name"><a href="#iOS-skwdataconnection-send-data">data</a></span><p class="description">送信するデータを設定します。</p></div></div></div><div class="child " id="iOS-skwdataconnection-close"><span class="name"><a href="#iOS-skwdataconnection-close">close</a><span class="tag type METHOD">METHOD</span><span class="snippet">[dataConnection close];</span></span><p class="description">DataChannelとPeerConnectionを解放して、コネクションをクローズします。</p></div><div class="child " id="iOS-skwdataconnection-on"><span class="name"><a href="#iOS-skwdataconnection-on">on</a><span class="tag type METHOD">METHOD</span><span class="snippet">[dataConnection on:event callback:^(NSObject* obj)callback];</span></span><p class="description">SKWDataConnectionのイベントコールバックBlockを設定します。</p><div class="children"><div class="child " id="iOS-skwdataconnection-on-event"><span class="name"><a href="#iOS-skwdataconnection-on-event">event</a><span class="tag type SKWDataConnectionEventEnum">SKWDataConnectionEventEnum</span></span><p class="description">設定するイベント種別を指定します。</p><div class="children"><div class="child " id="iOS-skwdataconnection-on-event-skw_dataconnection_event_data"><span class="name"><a href="#iOS-skwdataconnection-on-event-skw_dataconnection_event_data">SKW_DATACONNECTION_EVENT_DATA</a><span class="snippet">[dataConnection on:SKW_DATACONNECTION_EVENT_DATA callback:^(NSObject* obj){ ... }];</span></span><p class="description">リモートpeerからデータを受信した場合に発生します。</p></div><div class="child " id="iOS-skwdataconnection-on-event-skw_dataconnection_event_open"><span class="name"><a href="#iOS-skwdataconnection-on-event-skw_dataconnection_event_open">SKW_DATACONNECTION_EVENT_OPEN</a><span class="snippet">[dataConnection on:SKW_DATACONNECTION_EVENT_OPEN callback:^(NSObject* obj){ ... }];</span></span><p class="description">コネクションが利用可能となった場合に発生します。</p></div><div class="child " id="iOS-skwdataconnection-on-event-skw_dataconnection_event_close"><span class="name"><a href="#iOS-skwdataconnection-on-event-skw_dataconnection_event_close">SKW_DATACONNECTION_EVENT_CLOSE</a><span class="snippet">[dataConnection on:SKW_DATACONNECTION_EVENT_CLOSE callback:^(NSObject* obj){ ... }];</span></span><p class="description">あなたが、またはリモートのpeerがdata connectionをクローズした場合に発生します。</p></div><div class="child " id="iOS-skwdataconnection-on-event-skw_dataconnection_event_error"><span class="name"><a href="#iOS-skwdataconnection-on-event-skw_dataconnection_event_error">SKW_DATACONNECTION_EVENT_ERROR</a><span class="snippet">[dataConnection on:SKW_DATACONNECTION_EVENT_ERROR callback:^(NSObject* obj){ ... }];</span></span><p class="description">callbackの引数は<a href='#iOS-skwpeererror'>SKWPeerError</a>クラスになります。</p></div></div></div><div class="child " id="iOS-skwdataconnection-on-callback"><span class="name"><a href="#iOS-skwdataconnection-on-callback">callback</a></span><p class="description">イベント発生時に実行するBlockを設定します。</p></div></div></div><div class="child " id="iOS-skwdataconnection-buffersize"><span class="name"><a href="#iOS-skwdataconnection-buffersize">bufferSize</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">バッファが一杯になった場合に、キューされるメッセージのサイズです。</p></div><div class="child " id="iOS-skwdataconnection-datachannel"><span class="name"><a href="#iOS-skwdataconnection-datachannel">dataChannel</a><span class="tag type <a href='#iOS-skwdatachannel'>SKWDataChannel</a>"><a href='#iOS-skwdatachannel'>SKWDataChannel</a></span></span><p class="description">コネクションに関連付けされたRTCDataChannelオブジェクトへの参照です。</p></div><div class="child " id="iOS-skwdataconnection-label"><span class="name"><a href="#iOS-skwdataconnection-label">label</a><span class="tag type NSString">NSString</span></span><p class="description">コネクションが開始されたときにアサインされる、または指定されるオプションのラベルです。</p></div><div class="child " id="iOS-skwdataconnection-metadata"><span class="name"><a href="#iOS-skwdataconnection-metadata">metadata</a><span class="tag type NSObject">NSObject</span></span><p class="description">コネクションが開始されたときに、コネクションと関連付けされるメタデータです。</p></div><div class="child " id="iOS-skwdataconnection-isopen"><span class="name"><a href="#iOS-skwdataconnection-isopen">isOpen</a><span class="tag type BOOL">BOOL</span></span><p class="description">コネクションがopenであり、読み込み/書き込みの準備ができている場合に<code>YES</code>になります。</p></div><div class="child " id="iOS-skwdataconnection-peerconnection"><span class="name"><a href="#iOS-skwdataconnection-peerconnection">peerConnection</a><span class="tag type RTCPeerConnection">RTCPeerConnection</span></span><p class="description">コネクションに関連付けされる、RTCPeerConnectionオブジェクトです。</p></div><div class="child " id="iOS-skwdataconnection-peer"><span class="name"><a href="#iOS-skwdataconnection-peer">peer</a><span class="tag type NSString">NSString</span></span><p class="description">コネクションの相手側のpeer IDです。</p></div><div class="child " id="iOS-skwdataconnection-reliable"><span class="name"><a href="#iOS-skwdataconnection-reliable">reliable</a><span class="tag type BOOL">BOOL</span></span><p class="description">信頼性のあるdata channelの場合は<code>YES</code>です。コネクションの開始時に定義されます。</p></div><div class="child " id="iOS-skwdataconnection-serialization"><span class="name"><a href="#iOS-skwdataconnection-serialization">serialization</a><span class="tag type SKWSerializationEnum">SKWSerializationEnum</span></span><p class="description">コネクションを通じて送信されるデータのserializeフォーマットです。コネクションの開始時に定義されます</p><div class="children"><div class="child " id="iOS-skwdataconnection-serialization-skw_serialization_binary"><span class="name"><a href="#iOS-skwdataconnection-serialization-skw_serialization_binary">SKW_SERIALIZATION_BINARY</a></span><p class="description">データ通信形式が<code>binary</code>の時にこの値が返されます。</p></div><div class="child " id="iOS-skwdataconnection-serialization-skw_serialization_binary_utf8"><span class="name"><a href="#iOS-skwdataconnection-serialization-skw_serialization_binary_utf8">SKW_SERIALIZATION_BINARY_UTF8</a></span><p class="description">データ通信形式が<code>binary-utf8</code>の時にこの値が返されます。</p></div><div class="child " id="iOS-skwdataconnection-serialization-skw_serialization_json"><span class="name"><a href="#iOS-skwdataconnection-serialization-skw_serialization_json">SKW_SERIALIZATION_JSON</a></span><p class="description">データ通信形式が<code>json</code>の時にこの値が返されます。</p></div><div class="child " id="iOS-skwdataconnection-serialization-skw_serialization_none"><span class="name"><a href="#iOS-skwdataconnection-serialization-skw_serialization_none">SKW_SERIALIZATION_NONE</a></span><p class="description">データ通信形式が<code>none</code>の時にこの値が返されます。</p></div></div></div><div class="child " id="iOS-skwdataconnection-type"><span class="name"><a href="#iOS-skwdataconnection-type">type</a><span class="tag type NSString">NSString</span></span><p class="description">data connectionでは、常に<code>'data'</code>が設定されます。</p></div></div></div><div class="toplevel " id="iOS-skwmediaconnection"><span class="name"><a href="#iOS-skwmediaconnection">SKWMediaConnection</a><span class="tag type CLASS">CLASS</span></span><p class="description">WebRTCのmedia streamをラップします。このオブジェクトを得るためには、SKWPeerの<a href='#iOS-skwpeer-callwithid'><code>callWithId</code></a>を使うか、<a href='#iOS-skwpeer-on-event-skw_peer_event_call'><code>SKW_PEER_EVENT_CALL</code></a>発生時に渡されるオブジェクトを使用してください。</p><div class="children"><div class="child " id="iOS-skwmediaconnection-answer"><span class="name"><a href="#iOS-skwmediaconnection-answer">answer</a><span class="tag type METHOD">METHOD</span><span class="snippet">[mediaConnection answer];<br>[mediaConnection answer:stream];</span></span><p class="description"><a href='#iOS-skwpeer-on-event-skw_peer_event_call'><code>call</code></a>イベントを受信した場合に、応答するためにコールバックにて与えられるmedia connectionにて<code>answer</code>を呼び出せます。また、オプションで自身のmedia streamを設定できます。</p><div class="children"><div class="child " id="iOS-skwmediaconnection-answer-stream"><span class="name"><a href="#iOS-skwmediaconnection-answer-stream"><span class="optional"><span class="bracket">[</span>stream<span class="bracket">]</span></span></a><span class="tag type <a href='#iOS-skwmediastream'>SKWMediaStream</a>"><a href='#iOS-skwmediastream'>SKWMediaStream</a></span></span><p class="description">SKWNavigatorのgetUserMediaによって取得される<a href='#iOS-skwmediastream'><code>SKWMediaStream</code></a>です。</p></div></div></div><div class="child " id="iOS-skwmediaconnection-close"><span class="name"><a href="#iOS-skwmediaconnection-close">close</a><span class="tag type METHOD">METHOD</span><span class="snippet">[media close];</span></span><p class="description">media connectionをクローズします。</p></div><div class="child " id="iOS-skwmediaconnection-on"><span class="name"><a href="#iOS-skwmediaconnection-on">on</a><span class="tag type METHOD">METHOD</span><span class="snippet">[mediaConnection on:event callback:^(NSObject* obj)callback];</span></span><p class="description">SKWMediaConnectionのイベントコールバックBlockを設定します。</p><div class="children"><div class="child " id="iOS-skwmediaconnection-on-event"><span class="name"><a href="#iOS-skwmediaconnection-on-event">event</a><span class="tag type SKWMediaConnectionEnum">SKWMediaConnectionEnum</span></span><p class="description">設定するイベント種別を指定します。</p><div class="children"><div class="child " id="iOS-skwmediaconnection-on-event-skw_mediaconnection_event_stream"><span class="name"><a href="#iOS-skwmediaconnection-on-event-skw_mediaconnection_event_stream">SKW_MEDIACONNECTION_EVENT_STREAM</a><span class="snippet">[mediaConnection on:SKW_MEDIACONNECTION_EVENT_STREAM callback:^(NSObject* stream){ ... }];</span></span><p class="description">リモートのpeerが<code>stream</code>を追加したときに発生します。</p></div><div class="child " id="iOS-skwmediaconnection-on-event-skw_mediaconnection_event_close"><span class="name"><a href="#iOS-skwmediaconnection-on-event-skw_mediaconnection_event_close">SKW_MEDIACONNECTION_EVENT_CLOSE</a><span class="snippet">[mediaConnection on:SKW_MEDIACONNECTION_EVENT_CLOSE callback:^(NSObject* obj){ ... }];</span></span><p class="description">あなたか、リモートのpeerがmedia connectionをクローズした時に発生します。</p></div><div class="child " id="iOS-skwmediaconnection-on-event-skw_mediaconnection_event_error"><span class="name"><a href="#iOS-skwmediaconnection-on-event-skw_mediaconnection_event_error">SKW_MEDIACONNECTION_EVENT_ERROR</a><span class="snippet">[mediaConnection on:SKW_MEDIACONNECTION_EVENT_ERROR callback:^(NSObject* obj){ ... }];</span></span><p class="description">callbackの引数は<a href='#iOS-skwpeererror'>SKWPeerError</a>クラスになります。</p></div></div></div><div class="child " id="iOS-skwmediaconnection-on-callback"><span class="name"><a href="#iOS-skwmediaconnection-on-callback">callback</a></span><p class="description">イベント発生時に実行するBlockを設定します。</p></div></div></div><div class="child " id="iOS-skwmediaconnection-isopen"><span class="name"><a href="#iOS-skwmediaconnection-isopen">isOpen</a><span class="tag type BOOL">BOOL</span></span><p class="description">media connectionがアクティブなとき（例えば、呼び出しにたいして、応答があった後）に、YESとなります。もし片方向通話のために、最大待ち時間を設定したい場合に、これをチェックできます。</p></div><div class="child " id="iOS-skwmediaconnection-metadata"><span class="name"><a href="#iOS-skwmediaconnection-metadata">metadata</a><span class="tag type NSObject">NSObject</span></span><p class="description">コネクションが開始されたときに、コネクションと関連付けされるメタデータです。</p></div><div class="child " id="iOS-skwmediaconnection-peer"><span class="name"><a href="#iOS-skwmediaconnection-peer">peer</a><span class="tag type NSString">NSString</span></span><p class="description">コネクションの相手側のpeer IDです。</p></div><div class="child " id="iOS-skwmediaconnection-type"><span class="name"><a href="#iOS-skwmediaconnection-type">type</a><span class="tag type NSString">NSString</span></span><p class="description">media connectionでは、常に<code>'media'</code>が設定されます。</p></div></div></div><div class="toplevel " id="iOS-skwmediastream"><span class="name"><a href="#iOS-skwmediastream">SKWMediaStream</a><span class="tag type CLASS">CLASS</span></span><div class="children"><div class="child " id="iOS-skwmediastream-close"><span class="name"><a href="#iOS-skwmediastream-close">close</a><span class="tag type METHOD">METHOD</span><span class="snippet">[stream close];</span></span><p class="description">メディアストリームをすべて閉じます。</p></div><div class="child " id="iOS-skwmediastream-getvideotracks"><span class="name"><a href="#iOS-skwmediastream-getvideotracks">getVideoTracks</a><span class="tag type METHOD">METHOD</span><span class="snippet">NSUInteger videos = [stream getVideoTracks];</span></span><p class="description">メディアストリームに追加されているビデオトラック数を取得します。</p></div><div class="child " id="iOS-skwmediastream-setenablevideotrack"><span class="name"><a href="#iOS-skwmediastream-setenablevideotrack">setEnableVideoTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">[stream setEnableVideoTrack:pos enable:enable];</span></span><p class="description">メディアストリームに追加済みのビデオトラック再生状態を設定します。</p><div class="children"><div class="child " id="iOS-skwmediastream-setenablevideotrack-pos"><span class="name"><a href="#iOS-skwmediastream-setenablevideotrack-pos">pos</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">ビデオトラック番号 (0以上の整数)を選択します。</p></div><div class="child " id="iOS-skwmediastream-setenablevideotrack-enable"><span class="name"><a href="#iOS-skwmediastream-setenablevideotrack-enable">enable</a><span class="tag type BOOL">BOOL</span></span><p class="description"><code>YES</code>なら再生し、<code>NO</code>なら停止します</p></div></div></div><div class="child " id="iOS-skwmediastream-getenablevideotrack"><span class="name"><a href="#iOS-skwmediastream-getenablevideotrack">getEnableVideoTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">BOOL enable = [stream getEnableVideoTrack:pos];</span></span><p class="description">メディアストリームに追加済みのビデオトラック再生状態を取得します。</p><div class="children"><div class="child " id="iOS-skwmediastream-getenablevideotrack-pos"><span class="name"><a href="#iOS-skwmediastream-getenablevideotrack-pos">pos</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">ビデオトラック番号 (0以上の整数)を選択します。</p></div></div></div><div class="child " id="iOS-skwmediastream-getaudiotracks"><span class="name"><a href="#iOS-skwmediastream-getaudiotracks">getAudioTracks</a><span class="tag type METHOD">METHOD</span><span class="snippet">NSUInteger audios = [stream getAudioTracks];</span></span><p class="description">メディアストリームに追加されているオーディオトラック数を取得します。</p></div><div class="child " id="iOS-skwmediastream-setenableaudiotrack"><span class="name"><a href="#iOS-skwmediastream-setenableaudiotrack">setEnableAudioTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">[stream setEnableAudioTrack:pos enable:enable];</span></span><p class="description">メディアストリームに追加済みのオーディオトラック再生状態を設定します。</p><div class="children"><div class="child " id="iOS-skwmediastream-setenableaudiotrack-pos"><span class="name"><a href="#iOS-skwmediastream-setenableaudiotrack-pos">pos</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">オーディオトラック番号 (0以上の整数)を選択します。</p></div><div class="child " id="iOS-skwmediastream-setenableaudiotrack-enable"><span class="name"><a href="#iOS-skwmediastream-setenableaudiotrack-enable">enable</a><span class="tag type BOOL">BOOL</span></span><p class="description"><code>YES</code>なら再生し、<code>NO</code>なら停止します</p></div></div></div><div class="child " id="iOS-skwmediastream-getenableaudiotrack"><span class="name"><a href="#iOS-skwmediastream-getenableaudiotrack">getEnableAudioTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">BOOL enable = [stream getEnableAudioTrack:pos];</span></span><p class="description">メディアストリームに追加済みのオーディオトラック再生状態を取得します。</p><div class="children"><div class="child " id="iOS-skwmediastream-getenableaudiotrack-pos"><span class="name"><a href="#iOS-skwmediastream-getenableaudiotrack-pos">pos</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">オーディオトラック番号 (0以上の整数)を選択します。</p></div></div></div><div class="child " id="iOS-skwmediastream-setcameraposition"><span class="name"><a href="#iOS-skwmediastream-setcameraposition">setCameraPosition</a><span class="tag type METHOD">METHOD</span><span class="snippet">BOOL result = [stream setCameraPosition:pos];</span></span><p class="description">ローカルiOSデバイスのメディアストリームの場合、カメラ位置を設定します。</p><div class="children"><div class="child " id="iOS-skwmediastream-setcameraposition-pos"><span class="name"><a href="#iOS-skwmediastream-setcameraposition-pos">pos</a><span class="tag type SKWCameraPositionEnum">SKWCameraPositionEnum</span></span><p class="description">使用するカメラの位置を設定します</p><div class="children"><div class="child " id="iOS-skwmediastream-setcameraposition-pos-skw_camera_position_unspecified"><span class="name"><a href="#iOS-skwmediastream-setcameraposition-pos-skw_camera_position_unspecified">SKW_CAMERA_POSITION_UNSPECIFIED</a></span><p class="description">一番始めに見つけたカメラを使用します。順序はシステムに依存します。</p></div><div class="child " id="iOS-skwmediastream-setcameraposition-pos-skw_camera_position_back"><span class="name"><a href="#iOS-skwmediastream-setcameraposition-pos-skw_camera_position_back">SKW_CAMERA_POSITION_BACK</a></span><p class="description">アウトカメラを使用します。</p></div><div class="child " id="iOS-skwmediastream-setcameraposition-pos-skw_camera_position_front"><span class="name"><a href="#iOS-skwmediastream-setcameraposition-pos-skw_camera_position_front">SKW_CAMERA_POSITION_FRONT</a></span><p class="description">インカメラを使用します。</p></div></div></div></div></div><div class="child " id="iOS-skwmediastream-getcameraposition"><span class="name"><a href="#iOS-skwmediastream-getcameraposition">getCameraPosition</a><span class="tag type METHOD">METHOD</span><span class="snippet">SKWCameraPositionEnum pos = [stream getCameraPosition];</span></span><p class="description">ローカルiOSデバイスのメディアストリームの場合、現在のカメラ位置を取得します。</p><div class="children"><div class="child " id="iOS-skwmediastream-getcameraposition-pos"><span class="name"><a href="#iOS-skwmediastream-getcameraposition-pos">pos</a><span class="tag type SKWCameraPositionEnum">SKWCameraPositionEnum</span></span><p class="description">現在のカメラの位置です。</p><div class="children"><div class="child " id="iOS-skwmediastream-getcameraposition-pos-skw_camera_position_unspecified"><span class="name"><a href="#iOS-skwmediastream-getcameraposition-pos-skw_camera_position_unspecified">SKW_CAMERA_POSITION_UNSPECIFIED</a></span><p class="description">カメラの位置が不明です。</p></div><div class="child " id="iOS-skwmediastream-getcameraposition-pos-skw_camera_position_back"><span class="name"><a href="#iOS-skwmediastream-getcameraposition-pos-skw_camera_position_back">SKW_CAMERA_POSITION_BACK</a></span><p class="description">アウトカメラです。</p></div><div class="child " id="iOS-skwmediastream-getcameraposition-pos-skw_camera_position_front"><span class="name"><a href="#iOS-skwmediastream-getcameraposition-pos-skw_camera_position_front">SKW_CAMERA_POSITION_FRONT</a></span><p class="description">インカメラです。</p></div></div></div></div></div></div></div><div class="toplevel " id="iOS-skwvideo"><span class="name"><a href="#iOS-skwvideo">SKWVideo</a><span class="tag type OBJECT">OBJECT</span><span class="snippet">SKWVideo* video = [[SKWVideo alloc] initWithFrame:(CGRect)rect];</span></span><p class="description">映像を表示するレンダラービュー オブジェクトです。</p><div class="children"><div class="child " id="iOS-skwvideo-addsrc"><span class="name"><a href="#iOS-skwvideo-addsrc">addSrc</a><span class="tag type METHOD">METHOD</span><span class="snippet">[video addSrc:stream track:trackNo];</span></span><p class="description">メディアソースとして、 指定のメディアストリーム・トラック番号を追加します。</p><div class="children"><div class="child " id="iOS-skwvideo-addsrc-stream"><span class="name"><a href="#iOS-skwvideo-addsrc-stream">stream</a><span class="tag type <a href='#iOS-skwmediastream'>SKWMediaStream</a>"><a href='#iOS-skwmediastream'>SKWMediaStream</a></span></span><p class="description">追加するメディアストリームです。</p></div><div class="child " id="iOS-skwvideo-addsrc-trackno"><span class="name"><a href="#iOS-skwvideo-addsrc-trackno">trackNo</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">追加するビデオトラック番号 (0以上の整数)です。</p></div></div></div><div class="child " id="iOS-skwvideo-removesrc"><span class="name"><a href="#iOS-skwvideo-removesrc">removeSrc</a><span class="tag type METHOD">METHOD</span><span class="snippet">[video removeSrc:stream track:trackNo];</span></span><p class="description">メディアソースとして使用していたメディアストリーム・トラック番号を削除します。</p><div class="children"><div class="child " id="iOS-skwvideo-removesrc-stream"><span class="name"><a href="#iOS-skwvideo-removesrc-stream">stream</a><span class="tag type <a href='#iOS-skwmediastream'>SKWMediaStream</a>"><a href='#iOS-skwmediastream'>SKWMediaStream</a></span></span><p class="description">削除するメディアストリームです。</p></div><div class="child " id="iOS-skwvideo-removesrc-trackno"><span class="name"><a href="#iOS-skwvideo-removesrc-trackno">trackNo</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">削除するビデオトラック番号 (0以上の整数)です。</p></div></div></div><div class="child " id="iOS-skwvideo-setdidchangevideosizecallback"><span class="name"><a href="#iOS-skwvideo-setdidchangevideosizecallback">setDidChangeVideoSizeCallback</a><span class="tag type METHOD">METHOD</span><span class="snippet">[video setDidChangeVideoSizeCallback:^(CGSize size)callback</span></span><p class="description">映像サイズが変更された場合に、呼ばれるコールバックを設定します。</p><div class="children"><div class="child " id="iOS-skwvideo-setdidchangevideosizecallback-callback"><span class="name"><a href="#iOS-skwvideo-setdidchangevideosizecallback-callback">callback</a></span><p class="description">イベント発生時に実行するBlockを設定します。</p></div></div></div></div></div><div class="toplevel " id="iOS-skwnavigator"><span class="name"><a href="#iOS-skwnavigator">SKWNavigator</a><span class="tag type CLASS">CLASS</span></span><p class="description">映像を取得するためのクラスです。</p><div class="children"><div class="child " id="iOS-skwnavigator-initialize"><span class="name"><a href="#iOS-skwnavigator-initialize">initialize</a><span class="tag type METHOD">METHOD</span><span class="snippet">[SKWNavigator initialize:peer];</span></span><p class="description">初期化を行います。</p><div class="children"><div class="child " id="iOS-skwnavigator-initialize-peer"><span class="name"><a href="#iOS-skwnavigator-initialize-peer">peer</a><span class="tag type <a href='#iOS-skwpeer'>SKWPeer</a>"><a href='#iOS-skwpeer'>SKWPeer</a></span></span><p class="description">作成・初期化済みのSKWPeerオブジェクト</p></div></div></div><div class="child " id="iOS-skwnavigator-terminate"><span class="name"><a href="#iOS-skwnavigator-terminate">terminate</a><span class="tag type METHOD">METHOD</span><span class="snippet">[SKWNavigator terminate];</span></span><p class="description">終了化を行います。</p></div><div class="child " id="iOS-skwnavigator-getusermedia"><span class="name"><a href="#iOS-skwnavigator-getusermedia">getUserMedia</a><span class="tag type METHOD">METHOD</span><span class="snippet">SKWMediaStream* stream = [SKWNavigator getUserMedia:constraints];</span></span><p class="description">ローカルメディアストリームを取得します。</p><div class="children"><div class="child " id="iOS-skwnavigator-getusermedia-constraints"><span class="name"><a href="#iOS-skwnavigator-getusermedia-constraints">constraints</a><span class="tag type <a href='#iOS-skwmediaconstraints'>SKWMediaConstraints</a>"><a href='#iOS-skwmediaconstraints'>SKWMediaConstraints</a></span></span><p class="description">メディアストリームの設定です。</p></div></div></div></div></div><div class="toplevel " id="iOS-skwmediaconstraints"><span class="name"><a href="#iOS-skwmediaconstraints">SKWMediaConstraints</a><span class="tag type CLASS">CLASS</span></span><p class="description"><a href='#iOS-skwnavigator'>SKWNavigator</a>のgetUserMedia実行時のオプション設定クラスです。</p><div class="children"><div class="child " id="iOS-skwmediaconstraints-videoflag"><span class="name"><a href="#iOS-skwmediaconstraints-videoflag">videoFlag</a><span class="tag type BOOL">BOOL</span></span><p class="description">映像使用を設定します。<code>YES</code>なら映像を有効に、<code>NO</code>なら映像を無効にします。デフォルトは<code>YES</code>です。</p></div><div class="child " id="iOS-skwmediaconstraints-audioflag"><span class="name"><a href="#iOS-skwmediaconstraints-audioflag">audioFlag</a><span class="tag type BOOL">BOOL</span></span><p class="description">音声使用を設定します。<code>YES</code>なら音声を有効に、<code>NO</code>なら音声を無効にします。デフォルトは<code>YES</code>です。</p></div><div class="child " id="iOS-skwmediaconstraints-cameraposition"><span class="name"><a href="#iOS-skwmediaconstraints-cameraposition">cameraPosition</a><span class="tag type SKWCameraPositionEnum">SKWCameraPositionEnum</span></span><p class="description">使用するカメラの位置を設定します。デフォルトはSKW_CAMERA_POSITION_FRONTになります。</p><div class="children"><div class="child " id="iOS-skwmediaconstraints-cameraposition-skw_camera_position_unspecified"><span class="name"><a href="#iOS-skwmediaconstraints-cameraposition-skw_camera_position_unspecified">SKW_CAMERA_POSITION_UNSPECIFIED</a></span><p class="description">一番始めに見つけたカメラを使用します。順序はシステムに依存します。</p></div><div class="child " id="iOS-skwmediaconstraints-cameraposition-skw_camera_position_back"><span class="name"><a href="#iOS-skwmediaconstraints-cameraposition-skw_camera_position_back">SKW_CAMERA_POSITION_BACK</a></span><p class="description">アウトカメラを使用します。アウトカメラが見つからない場合は、一番始めに見つけたカメラを使用します。</p></div><div class="child " id="iOS-skwmediaconstraints-cameraposition-skw_camera_position_front"><span class="name"><a href="#iOS-skwmediaconstraints-cameraposition-skw_camera_position_front">SKW_CAMERA_POSITION_FRONT</a></span><p class="description">インカメラを使用します。インカメラが見つからない場合は、一番始めに見つけたカメラを使用します。</p></div></div></div><div class="child " id="iOS-skwmediaconstraints-maxwidth"><span class="name"><a href="#iOS-skwmediaconstraints-maxwidth">maxWidth</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">横ピクセル上限を設定します。デフォルトは<code>640</code>となります。<br>maxWidth, minWidth, maxHeight, minHeightで指定できる有効値は、以下のようになります。正しい値、組み合わせでなかった時は、デフォルト値が適用されます。<span class='tip'>max (Width x Height): 640x480, 800x600, 960x540, 1280x720<br>min (Width x Height): 192x144, 352x288, 512x384, 640x480</span></p></div><div class="child " id="iOS-skwmediaconstraints-minwidth"><span class="name"><a href="#iOS-skwmediaconstraints-minwidth">minWidth</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">横ピクセル下限を設定します。デフォルトは<code>192</code>となります。</p></div><div class="child " id="iOS-skwmediaconstraints-maxheight"><span class="name"><a href="#iOS-skwmediaconstraints-maxheight">maxHeight</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">縦ピクセル上限を設定します。デフォルトは<code>480</code>となります。</p></div><div class="child " id="iOS-skwmediaconstraints-minheight"><span class="name"><a href="#iOS-skwmediaconstraints-minheight">minHeight</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">縦ピクセル下限を設定します。デフォルトは<code>144</code>となります。</p></div><div class="child " id="iOS-skwmediaconstraints-maxframerate"><span class="name"><a href="#iOS-skwmediaconstraints-maxframerate">maxFrameRate</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">フレームレート上限を設定します。2〜30を指定することができます。デフォルトは<code>10</code>となります。</p></div><div class="child " id="iOS-skwmediaconstraints-minframerate"><span class="name"><a href="#iOS-skwmediaconstraints-minframerate">minFrameRate</a><span class="tag type NSUInteger">NSUInteger</span></span><p class="description">フレームレート下限を設定します。2〜30を指定することができます。デフォルトは<code>2</code>となります。</p></div></div></div>
</section>
</div>
<div id="Android">
<section class="start">
    <h1><a href="/skyway/">SkyWay Android SDK</a> <span class="title">docs</span></h1>
    <p><br>SkyWayは、WebRTCを利用したピア·ツー·ピアのデータ、ビデオ、オーディオ通信を簡単に実現することができます。「SkyWay Android SDK」はSkyWayをAndroidから利用できるフレームワークです。このドキュメントでは、SkyWay Android SDKの基本的な使い方を紹介します。SkyWay Android SDKを用いた実装例をご覧になりたい方は, <a href="https://github.com/nttcom/SkyWay-Android-Sample">サンプルアプリ</a> を御覧ください。</P>
    <h2>セットアップ</h2>
    <h3>1. 必要な設定を追加</h3>
    <p>下記の設定をマニフェストファイルに追加してください。</p>
    <pre>&lt;uses-feature android:name="android.hardware.camera" /&gt;
&lt;uses-feature android:name="android.hardware.camera.autofocus" /&gt;
&lt;uses-feature android:glEsVersion="0x00020000" android:required="true" /&gt;

&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
&lt;uses-permission android:name="android.permission.ACCESS_WIFI_STATE" /&gt;
&lt;uses-permission android:name="android.permission.INTERNET" /&gt;
&lt;uses-permission android:name="android.permission.CAMERA" /&gt;
&lt;uses-permission android:name="android.permission.RECORD_AUDIO" /&gt;
&lt;uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" /&gt;
</pre>
    <h3>2. SkyWay Android SDKのインポート</h3>
    <p>SkyWay.aarをアプリケーションに追加後にSkyWay Android SDKのクラスファイルをインポートしてください。</p>
    <pre>#import &lt;io.skyway.Peer.*&gt;</pre>
    <h3>3. Peerオブジェクトを作成</h3>
    <p>Peerオブジェクトは、Peerコネクションを生成、受信する為に利用します。</p>
    <pre>PeerOption options = new PeerOption();
options.key = "{APIKEY}";
options.domain = "{DOMAIN}";
Peer peer = new Peer(options);</pre>
    <p>Peerのコンストラクタに渡す'APIKEY'は、SkyWayのAPIキーです。<a
            href="https://skyway.io/ds/registration/">APIキーの申し込み</a>を行うことで無料で取得することができます。APIキー申込時には利用ドメインを申請していただきます。APIキーは申請したドメインからのみ利用可能です。</p>

    <p>セッション情報交換やシグナリングに利用するサーバを、自身で構築することもできます。
        詳しくは<a href="http://github.com/peers/peerjs-server">peerjs-server</a>をご覧ください。</p>
    <p>これで利用するための準備はすべて整いました！</p>

    <h2>使い方</h2>
    <p>Peerオブジェクトは生成時、ランダムなID（以下、PeerID）が付与されます。</p>
      <pre>peer.on(Peer.PeerEventEnum.OPEN, new OnCallback(){
  　public void onCallback(Object object){
    　if (object instanceof String){
      　string id = (String) object;
    　}
  　}
　});</pre>
    <p>他のPeerと接続したい場合は、接続先のPeerIDが必要になります。
        Peerクラスの<a href="#Android-peer-listallpeers">listAllPeers</a>メソッドを用いて接続先のPeerIDを入手するか、何らかの仕組みでPeerIDを交換してください。<a href="#Android-peer">Peerコンストラクタ</a>のオプションに任意のPeerIDを指定する事もできます</p>

    <p>その他の<a href="#Android-peeroption">オプション</a>、メソッド、<a href="#Android-peer-on">イベント</a>、<a href="#Android-peer-on-event-error">エラー処理</a>などの詳細は、<a href="#Android-peer">Peer API リファレンス</a>をお読みください。</p>

    <h3>Data connections</h3>
    <p>相手のPeerIDを指定してPeerの<code>connect(peerId)</code>メソッドを実行するとdata connectionを開始します。相手から接続要求はいつでも<code>PeerEventEnum.CONNECTION</code>イベントを利用して受け取ることができます。 </p>
    <div class="pre-title">接続開始</div>
    <pre>DataConnection dataConnection = peer.connect('dest-peer-id');</pre>
    <div class="pre-title">接続イベントの受信</div>
    <pre>peer.on(Peer.PeerEventEnum.CONNECTION,new OnCallback(){
 public void onCallback(Object object){
   //接続イベント受信時の処理
   }
 });</pre>
    <p>Peerの<code>connect(peerId)</code>メソッドと<code>PeerEventEnum.CONNECTION</code>イベントのコールバックでは<code>DataConnection</code>オブジェクトを提供します。このオブジェクトを使用してデータの送受信を行うことができます。</p>
      <pre>dataConnection.on(DataEventEnum.DATA,new OnCallback(){
  public void onCallback(Object object){
    //文字列データの受信
    String strValue = null;
    if (object instanceof String){
      strValue = (String)object;
    }
  }
});

//メッセージ送信
Bool bResult = dataConnection.send("Hello SkyWay!");
if(NO == bResult){
  //送信失敗
}else{
  //送信成功
}

</pre>
    <p>メソッドとイベントの詳細は、<a href="#Android-dataconnection">DataConnection API リファレンス</a>をご覧ください。</p>
    <h3>Video/audio calls</h3>
    <p>相手のPeerIDを指定してPeerの<code>call(peerId)</code>メソッドを実行することで、その相手を呼び出すことができます。相手があなたを呼び出した場合、 <code>PeerEventEnum.CALL</code>イベントが発生します。
    <p><code>PeerEventEnum.CALL</code>イベントを受信した時は、必ずそのイベントに応答する必要があります。応答しなければ接続は確立しません。</p>
    <div class="pre-title">呼び出し開始</div>
    <pre>MediaConnection mediaConnection = peer.call('dest-peer-id',mediaStream);</pre>
    <div class="pre-title">呼び出しへの応答</div>
    <pre>peer.on(Peer.PeerEventEnum.CALL,new OnCallback(){
  public void onCallback(Object object){
    mesiaConnection.answer(mesiastream);
  }
});</pre>
    <p>相手を呼び出す時、または、呼び出しに応答する時には、MediaStreamを提供する必要があります。
        MediaStreamにはビデオストリーム（カメラの映像）やオーディオストリームなどがあり、Navigatorの<a href="#Android-navigator-getusermedia"><code>getUserMedia</code></a>メソッドによって取得することができます。
        尚、呼び出しに応答する時のMediaStreamは必須ではありません。もし応答時にMediaStreamをセットしなければ、一方向の通話が確立されます。
        通話が確立されると、<code>isOpen</code>プロパティにtrueがセットされます。
    <p>Peerの<code>call(peerId)</code>と<code>PeerEventEnum.CALL</code>イベントのコールバックではMediaConnectionオブジェクトを提供します。
        MediaConnectionオブジェクトは<code>MediaEventEnum.STREAM</code> イベントをキャッチすることができます。<code>MediaEventEnum.STREAM</code>イベントのコールバックには相手の映像／音声ストリームが含まれます。</p>
      <pre>mediaConnection.on(event, new OnCallback(){
        puclic void onCallback(Object object){
          // 'stream'　は接続先のMediaStreamです。
          // ここでCanvasに追加
        }
      });</pre>
    <p>詳しくは <a href="#Android-mediaconnection">MediaConnection API reference</a> をご覧ください。</p>

    <h2>SkyWay RestAPIの使い方</h2>
    <h3>listAllPeers</h3>
    <p>APIキー毎のアクティブなPeerIDを取得します。<p>
      <pre>peer.listAllPeers(new OnCallback(){
  public void onCallback(Object object){
    if (!(object instanceof JSONArray)){
      return;
    }
    JSONArray peers = (JSONArray) object;
  }
});
</pre>


    <p>SkyWay RestAPIはAPIキー申請時に申請していただいたドメインからのみアクセスが可能です。</p>

    <h2>FAQ</h2>

    <h3>どのような種類のデータを送ることができますか？</h3>

    <p>SkyWay Android SDKは<a href="#Android-connectoption-serialization">serialization</a>をbinaryまたはbinary-utf8にした場合、<a href="https://github.com/msgpack/msgpack-java">MessagePack</a>シリアライゼーションフォーマットを利用します。Byte, Short, Integer, Long, Float, Double, byte[], String, ByteBuffer, List, Mapを簡単な手順で送受信することができます。</p>
          <pre>
HashMap< String, String > map = new HashMap<>();
for (int i = 0 ; 5 > i ; i++){
    String strKey = String.format("%d", i);
    String strValue = String.format("Value:%d", i);
    map.put(strKey, strValue);
  }
Boolean bResult = _data.send(map);</pre>
    <p>serializationの設定値による、各プラットフォーム間(JavaScript, iOS, Android)でのデータ通信の可否と、送受信時のデータ型に関する情報については<a href='https://github.com/nttcom/skyway-docs/blob/master/serialization.md' target="_blank">こちら</a>をご覧ください。</p>

    <h3>SkyWay Android SDKを利用することができないシーンはありますか？</h3>

    <p>シンメトリックNATの内側にいるクライアント同士はNATを超えることができないため、通信することができません。
        ただし、TURNサーバを利用して接続を中継すれば回避することができます。必要であれば、SkyWayが提供するTURNサーバを利用するか別途用意してください。SkyWayが提供するTURNサーバを利用する場合は別途<a href='https://skyway.io/ds/turnrequest' target='_blank'>申請</a>が必要です。TURNサーバの情報は、<code>Peer</code>コンストラクタのオプションで設定することができます。</p>
    <h3>TURNサーバはどのようにして利用するのでしょうか？</h3>
    <p>Peerオブジェクトを生成する際、PeerOption内のconfigプロパティにおいてIceConfigオブジェクトにURL等の情報を設定してください。</p>
<pre>
PeerOption options = new PeerOption();

//設定例はサンプルです。利用時には適切なサーバを設定してください。
IceConfig configTurn = new IceConfig();
configTurn.url = "turn:homeo@turn.bistri.com:80";
configTurn.credential = "homeo";
options.config = {configStun,configTurn};

Peer peer = new Peer(options);
</pre>
    <p>尚、SkyWayが提供するTURNサーバを利用する場合は、オプションの設定は不要です。</p>
    <h3>接続しようとしてるピアに接続できない場合はどうなりますか？</h3>

    <p>ピアに接続できない場合はPeerServerにて接続要求を5秒間保持します。ピアが一時的に再接続するような場合、コネクションを切らずに保持することができます。</p>

    <h3>ピアとつながらない場合は何を確認するべきでしょうか？</h3>
    <p>ピア同士がシンメトリックNATの内側にいる可能性があります。この場合はTURNサーバを利用してください。</p>
    <p>ファイアウォール等でUDPのポート3478（STUNサーバへの問い合わせに必要）をブロックしているかもしれません。STUNサーバへの問い合わせが可能な状況でご利用ください。</p>

    <h3>遅延／帯域幅は?</h3>
    <p>ピア同士のデータのやり取りは、TURNを利用する場合を除き、サーバを経由しないため、それが原因となる遅延などは発生しません。ピア同士の処理性能やネットワーク環境に依存します。</p>
    <p>ピア同士のコネクション確立に関する遅延は、セッション情報の中継（以下、シグナリング）とユーザの識別という2つに分類できます。PeerJSでは、シグナリングの時間を短縮するために、XHRストリーミングリクエストでデータを送った後、WebSocketで送ります。ユーザの識別に関しては手動でIDを指定することで、サーバ側にてIDを生成する際のRTT（Round-Trip delay Time）を短縮することができます。</p>

    <h3>対応OS</h3>
    <p>Android 4.0.3+</p>

    <h3>動作確認機種</h3>
    <p>Nexus 5 2013、Nexus 6 2015、Xperia Z1 2013、ZenPhone 2014、Galaxy S5</p>

    <h3>その他</h3>
    <p><a href="https://groups.google.com/forum/#!forum/skywayjs">SkyWay Technical Forum Google Group(日本語/英語)</a></p>
    <h3>免責事項</h3>
    <p>本ドキュメントは<a href="http://peerjs.com/docs/">http://peerjs.com/docs/</a>を元に、NTTコミュニケーションズが提供するSkyWayを利用するための情報等を追記し公開しています。ドキュメント原本に関する個別問い合わせには応じることができませんので、予めご了承ください。</p>

</section>

<header class="left">
    <h2>API Reference<a class="hide icon">&laquo;</a><a class="show icon">&raquo;</a></h2>
</header>
<header class="right">
    <h2>Getting Started</h2>
</header>

<section class="api">
    <div class="toplevel " id="Android-peer"><span class="name"><a href="#Android-peer">Peer</a><span class="tag type CLASS">CLASS</span><span class="snippet">Peer peer = new Peer(getApplicationContext(),peerId,options);<br>Peer peer = new Peer(getApplicationContext(),options);</span></span><p class="description">他のpeerへ接続できるpeerです。また、他のpeerからのコネクションをlistenできます。</p><div class="children"><div class="child " id="Android-peer-peerid"><span class="name"><a href="#Android-peer-peerid"><span class="optional"><span class="bracket">[</span>peerId<span class="bracket">]</span></span></a><span class="tag type String">String</span></span><p class="description">他のピアがこのピアへ接続するときに使われるIDです。もしIDが指定されない場合、ブローカサーバがIDを生成します。<span class='warn'>このIDを利用してピアを特定するのは推奨しません。なぜならば、このIDはコネクションをブローカ(仲介)するのにのみ使われるように作成されているためです。特定に他の情報を使う場合は、<a href='#Android-connectoption-metadata'><code>metadata</code></a>の利用を推奨します。</span></p></div><div class="child " id="Android-peer-options"><span class="name"><a href="#Android-peer-options">options</a><span class="tag type <a href='#Android-peeroption'>PeerOption</a>"><a href='#Android-peeroption'>PeerOption</a></span></span><p class="description">設定情報オブジェクトを指定します。</p></div><div class="child " id="Android-peer-connect"><span class="name"><a href="#Android-peer-connect">connect</a><span class="tag type METHOD">METHOD</span><span class="snippet">DataConnection dataConnection = peer.connect(peerId);<br>DataConnection dataConnection = peer.connect(peerId,options);</span></span><p class="description"><code>id</code>で指定されたリモートのPeerへ接続し、DataConnectionを返します。コネクションに失敗した場合は、<a href='#Android-peer-on-event-error'><code>error</code></a>イベントが呼び出されます。</p><div class="children"><div class="child " id="Android-peer-connect-peerid"><span class="name"><a href="#Android-peer-connect-peerid">peerId</a><span class="tag type String">String</span></span><p class="description">リモートpeerのブローカーIDです(リモートpeerの<a href='#Android-peer-identity'><code>identity</code></a>です)。</p></div><div class="child " id="Android-peer-connect-options"><span class="name"><a href="#Android-peer-connect-options"><span class="optional"><span class="bracket">[</span>options<span class="bracket">]</span></span></a><span class="tag type <a href='#Android-connectoption'>ConnectOption</a>"><a href='#Android-connectoption'>ConnectOption</a></span></span><p class="description">設定情報オブジェクトを指定します。</p></div></div></div><div class="child " id="Android-peer-call"><span class="name"><a href="#Android-peer-call">call</a><span class="tag type METHOD">METHOD</span><span class="snippet">MediaConnection mediaConnection = peer.call(peerId,stream);<br>MediaConnection mediaConnection = peer.call(peerId,stream,option);</span></span><p class="description"><code>id</code>で指定されたリモートのpeerへ発信し、MediaConnectionを返します。コネクションに失敗した場合には、<a href='#Android-peer-on-event-error'><code>error</code></a>イベントが発生します。</p><div class="children"><div class="child " id="Android-peer-call-peerid"><span class="name"><a href="#Android-peer-call-peerid">peerId</a><span class="tag type String">String</span></span><p class="description">リモートpeerのブローカーID(リモートpeerの<a href='#Android-peer-identity'><code>identity</code></a>)です。</p></div><div class="child " id="Android-peer-call-stream"><span class="name"><a href="#Android-peer-call-stream">stream</a><span class="tag type <a href='#Android-mediastream'>MediaStream</a>"><a href='#Android-mediastream'>MediaStream</a></span></span><p class="description">使用するローカルメディアストリームです。</p></div><div class="child " id="Android-peer-call-option"><span class="name"><a href="#Android-peer-call-option"><span class="optional"><span class="bracket">[</span>option<span class="bracket">]</span></span></a><span class="tag type <a href='#Android-calloption'>CallOption</a>"><a href='#Android-calloption'>CallOption</a></span></span><p class="description">設定情報オブジェクトを指定します。</p></div></div></div><div class="child " id="Android-peer-on"><span class="name"><a href="#Android-peer-on">on</a><span class="tag type METHOD">METHOD</span><span class="snippet">peer.on(event,callback);</span></span><p class="description">PeerのイベントコールバックBlockを設定します。</p><div class="children"><div class="child " id="Android-peer-on-event"><span class="name"><a href="#Android-peer-on-event">event</a><span class="tag type PeerEventEnum">PeerEventEnum</span></span><p class="description">設定するイベント種別を指定します。</p><div class="children"><div class="child " id="Android-peer-on-event-open"><span class="name"><a href="#Android-peer-on-event-open">OPEN</a><span class="snippet">peer.on(Peer.PeerEventEnum.OPEN,new OnCallback(){public void onCallback(Object ownId){...}});</span></span><p class="description">PeerServerへの接続が確立すると発生します。このイベントが発生する前にpeerを利用することもできますが、サーバへのメッセージはキューイングされます。<code>ownId</code>はブローカーIDです（Peerコンストラクタで指定されるか、サーバによって割付けされます）。<span class='tip'>コネクションの速度が重要である場合、他のピアへ接続する前に、このイベントを待つべきではありません。</span> </p></div><div class="child " id="Android-peer-on-event-connection"><span class="name"><a href="#Android-peer-on-event-connection">CONNECTION</a><span class="snippet">peer.on(Peer.PeerEventEnum.CONNECTION,new OnCallback(){public void onCallback(Object object){...}});</span></span><p class="description">リモートピアと新しいdata connectionが確立すると発生します。callbackの引数はDataConnectionクラスになります。</p></div><div class="child " id="Android-peer-on-event-call"><span class="name"><a href="#Android-peer-on-event-call">CALL</a><span class="snippet">peer.on(Peer.PeerEventEnum.CALL,new OnCallback(){public void onCallback(Object object){...}});</span></span><p class="description">リモートのpeerがあなたに発信してきたときに発生します。callbackの引数はMediaConnectionクラスになります。<code>mediaConnection</code>はこの時点でアクティブではありません。最初に応答を返す必要があります（<a href='#Android-mediaconnection-answer'><code>mediaConnection.answer(stream);</code></a>）。返答後、streamイベントをlistenできます。</p></div><div class="child " id="Android-peer-on-event-close"><span class="name"><a href="#Android-peer-on-event-close">CLOSE</a><span class="snippet">peer.on(Peer.PeerEventEnum.CLOSE,new OnCallback(){public void onCallback(Object object){...}});</span></span><p class="description">ピアとの接続が<a href='#Android-peer-isdestroyed'>destroyed</a>となった場合に発生します。<span class='tip'>peerを確実にクリアするためには、peerが不要となった時点で、peer.destroy()の実行を推奨します。</span></p></div><div class="child " id="Android-peer-on-event-disconnected"><span class="name"><a href="#Android-peer-on-event-disconnected">DISCONNECTED</a><span class="snippet">peer.on(Peer.PeerEventEnum.DISCONNECTED,new OnCallback(){public void onCallback(Object object){...}});</span></span><p class="description">ピアとの接続が<a href='#Android-peer-isdisconnected'>disconnected</a>となった場合に発生します。</p></div><div class="child " id="Android-peer-on-event-error"><span class="name"><a href="#Android-peer-on-event-error">ERROR</a><span class="snippet">peer.on(Peer.PeerEventEnum.ERROR,new OnCallback(){public void onCallback(Object object){...}});</span></span><p class="description">callbackの引数は<a href='#Android-peererror'>PeerError</a>クラスになります。peerに対するエラーは、ほとんど常に致命的であり、peerを破壊します。ソケットから生じるエラーや、PeerConnectionsから生じるエラーは、このイベントに伝えられます。</p></div></div></div><div class="child " id="Android-peer-on-callback"><span class="name"><a href="#Android-peer-on-callback">callback</a></span><p class="description">イベント発生時に実行するBlockを設定します。</p></div></div></div><div class="child " id="Android-peer-disconnect"><span class="name"><a href="#Android-peer-disconnect">disconnect</a><span class="tag type METHOD">METHOD</span><span class="snippet">peer.disconnect();</span></span><p class="description">サーバとの接続をクローズします。既存のデータおよびメディア接続はそのままです。<a href='#Android-peer-isdisconnected'><code>disconnected</code></a>に<code>true</code>が設定されます。<span class='warn'>この操作は必ず実施してください。それぞれのPeerオブジェクトが利用不可能、またはコネクションを受信できません。idも（クラウド上の）サーバに没収されます。</span></p></div><div class="child " id="Android-peer-destroy"><span class="name"><a href="#Android-peer-destroy">destroy</a><span class="tag type METHOD">METHOD</span><span class="snippet">peer.destroy();</span></span><p class="description">サーバへの接続をクローズし、すべての既存のコネクションを終了します。<a href='#Android-peer-isdestroyed'><code>destroyed</code></a>は<code>true</code>に設定されます。<span class='warn'>この操作は必ず実施してください。それぞれのPeerオブジェクトが利用不可能、またはコネクションを受信できません。idも（クラウド上の）サーバに没収されます。さらに、データコネクション・メディアコネクションもクローズされます。</span></p></div><div class="child " id="Android-peer-listallpeers"><span class="name"><a href="#Android-peer-listallpeers">listAllPeers</a><span class="tag type METHOD">METHOD</span><span class="snippet">peer.listAllPeers(new OnCallback(){public void onCallback(Object object){...}});</span></span><p class="description">SkyWayが提供するRestAPIにアクセスし、APIキー毎のアクティブなPeerIDを取得します。PeerIDはJSONArrayで渡されます。</p></div><div class="child " id="Android-peer-identity"><span class="name"><a href="#Android-peer-identity">identity</a><span class="tag type String">String</span></span><p class="description">peerのブローカーIDです。もしIDが<a href='#Android-peer'>Peerクラス</a>で指定されない場合、<a href='#Android-peer-on-event-open'><code>open</code></a>が発生するまで、<code>undefined</code>のままです。</p></div><div class="child " id="Android-peer-connections"><span class="name"><a href="#Android-peer-connections">connections</a><span class="tag type Map">Map</span></span><p class="description">コネクション接続管理オブジェクトです。リモートpeerのIDがkeyとして、peerと関連付けされるコネクションを持つハッシュです。<span class='tip'>このハッシュに頼るよりも、自身でコネクションを追跡管理することを推奨します。</span></p></div><div class="child " id="Android-peer-isdisconnected"><span class="name"><a href="#Android-peer-isdisconnected">isDisconnected</a><span class="tag type Boolean">Boolean</span></span><p class="description">PeerServerとのアクティブなコネクションがある場合は、<code>false</code> です。</p></div><div class="child " id="Android-peer-isdestroyed"><span class="name"><a href="#Android-peer-isdestroyed">isDestroyed</a><span class="tag type Boolean">Boolean</span></span><p class="description">このpeerにおける、全接続が利用されていない場合は<code>true</code>です。</p></div></div></div><div class="toplevel " id="Android-peeroption"><span class="name"><a href="#Android-peeroption">PeerOption</a><span class="tag type CLASS">CLASS</span><span class="snippet">PeerOption options = new PeerOption();</span></span><p class="description">Peer初期化時のオプション設定情報クラスです。</p><div class="children"><div class="child " id="Android-peeroption-key"><span class="name"><a href="#Android-peeroption-key">key</a><span class="tag type String">String</span></span><p class="description">クラウド上のPeerServerを利用するためのAPIキーです。</p></div><div class="child " id="Android-peeroption-domain"><span class="name"><a href="#Android-peeroption-domain">domain</a><span class="tag type String">String</span></span><p class="description">SkyWayでの開発者登録時に指定したWebサーバのドメイン文字列を指定します。</p></div><div class="child " id="Android-peeroption-host"><span class="name"><a href="#Android-peeroption-host"><span class="optional"><span class="bracket">[</span>host<span class="bracket">]</span></span></a><span class="tag type String">String</span></span><p class="description">サーバのホスト名です。デフォルトは<code>skyway.io</code>となります。</p></div><div class="child " id="Android-peeroption-port"><span class="name"><a href="#Android-peeroption-port"><span class="optional"><span class="bracket">[</span>port<span class="bracket">]</span></span></a><span class="tag type int">int</span></span><p class="description">サーバのポート番号です。デフォルトは<code>443</code>番となります。</p></div><div class="child " id="Android-peeroption-path"><span class="name"><a href="#Android-peeroption-path"><span class="optional"><span class="bracket">[</span>path<span class="bracket">]</span></span></a><span class="tag type String">String</span></span><p class="description">自身のPeerServerが動作している場所のpathです。デフォルトは、<code>'/'</code>です。</p></div><div class="child " id="Android-peeroption-secure"><span class="name"><a href="#Android-peeroption-secure"><span class="optional"><span class="bracket">[</span>secure<span class="bracket">]</span></span></a><span class="tag type Boolean">Boolean</span></span><p class="description">SSLを利用する場合は、<code>true</code>にします。skyway.ioはSSLを利用するため、デフォルトは、<code>true</code>です。</p></div><div class="child " id="Android-peeroption-turn"><span class="name"><a href="#Android-peeroption-turn"><span class="optional"><span class="bracket">[</span>turn<span class="bracket">]</span></span></a><span class="tag type Boolean">Boolean</span></span><p class="description">SkyWayが提供するTURNサーバを利用する場合は、<code>true</code>にします。デフォルトは、<code>false</code>です。利用には別途<a href='https://skyway.io/ds/turnrequest' target='_blank'>申請</a>が必要です。</p></div><div class="child " id="Android-peeroption-config"><span class="name"><a href="#Android-peeroption-config"><span class="optional"><span class="bracket">[</span>config<span class="bracket">]</span></span></a><span class="tag type ArrayList <IceConfig>">ArrayList <IceConfig></span></span><p class="description">STUN/TURNサーバ設定オブジェクト<a href='#Android-iceconfig'><code>IceConfig</code></a>のArrayを設定します。デフォルトでは、SkyWayのSTUNサーバ(stun:stun.skyway.io:3478)が設定されています。尚、SkyWayが提供するTURNサーバを利用する場合は、TURNサーバについての記載は不要です。</p></div><div class="child " id="Android-peeroption-debug"><span class="name"><a href="#Android-peeroption-debug"><span class="optional"><span class="bracket">[</span>debug<span class="bracket">]</span></span></a><span class="tag type DebugLevelEnum">DebugLevelEnum</span></span><p class="description">debugレベルにしたがってログを出力します。デフォルト値は<code>DEBUG_LEVEL_NO_LOGS</code>です。</p><div class="children"><div class="child " id="Android-peeroption-debug-no_logs"><span class="name"><a href="#Android-peeroption-debug-no_logs">NO_LOGS</a></span><p class="description">ログを出力しません。</p></div><div class="child " id="Android-peeroption-debug-only_error"><span class="name"><a href="#Android-peeroption-debug-only_error">ONLY_ERROR</a></span><p class="description">エラーのみログ出力します。</p></div><div class="child " id="Android-peeroption-debug-error_and_warning"><span class="name"><a href="#Android-peeroption-debug-error_and_warning">ERROR_AND_WARNING</a></span><p class="description">エラーと警告をログ出力します。</p></div><div class="child " id="Android-peeroption-debug-all_logs"><span class="name"><a href="#Android-peeroption-debug-all_logs">ALL_LOGS</a></span><p class="description">すべてのログを出力します。</p></div></div></div></div></div><div class="toplevel " id="Android-iceconfig"><span class="name"><a href="#Android-iceconfig">IceConfig</a><span class="tag type CLASS">CLASS</span><span class="snippet">IceConfig config = new IceConfig();</span></span><p class="description">Peer初期化時のSTUN/TURNサーバ設定情報クラスです。</p><div class="children"><div class="child " id="Android-iceconfig-url"><span class="name"><a href="#Android-iceconfig-url">url</a><span class="tag type String">String</span></span><p class="description">STUN/TURN サーバの URL を指定します。</p></div><div class="child " id="Android-iceconfig-username"><span class="name"><a href="#Android-iceconfig-username"><span class="optional"><span class="bracket">[</span>username<span class="bracket">]</span></span></a><span class="tag type String">String</span></span><p class="description">ユーザー名が必要な場合に設定します。</p></div><div class="child " id="Android-iceconfig-credential"><span class="name"><a href="#Android-iceconfig-credential"><span class="optional"><span class="bracket">[</span>credential<span class="bracket">]</span></span></a><span class="tag type String">String</span></span><p class="description">パスワードが必要な場合に設定します。</p></div></div></div><div class="toplevel " id="Android-connectoption"><span class="name"><a href="#Android-connectoption">ConnectOption</a><span class="tag type CLASS">CLASS</span><span class="snippet">ConnectOption option = new ConnectOption();</span></span><p class="description">Peerのconnect実行時のオプション設定情報クラスです。</p><div class="children"><div class="child " id="Android-connectoption-label"><span class="name"><a href="#Android-connectoption-label">label</a><span class="tag type String">String</span></span><p class="description">data connectionを識別するためのユニークなラベルです。もし特定されていない場合は、ランダムに生成されます。dataConnection.<a href='#Android-dataconnection-label'><code>label</code></a>を通じてアクセスできます。</p></div><div class="child " id="Android-connectoption-metadata"><span class="name"><a href="#Android-connectoption-metadata">metadata</a><span class="tag type String">String</span></span><p class="description">コネクションに関連付けされるメタデータで、コネクションを開始したpeerに渡されます。dataConnection.<a href='#Android-dataconnection-metadata'><code>metadata</code></a>を通じてアクセスできます。serialize可能です。</p></div><div class="child " id="Android-connectoption-serialization"><span class="name"><a href="#Android-connectoption-serialization">serialization</a><span class="tag type DataConnection.SerializationEnum">DataConnection.SerializationEnum</span></span><p class="description">データ通信形式を指定します。デフォルトでBINARYが設定されます。この値によってdataConnection.<a href='#Android-dataconnection-send'><code>send</code></a>で送れるデータ型が変化します。dataConnection.<a href='#Android-dataconnection-serialization'><code>serialization</code></a>にて確認できます。</p><div class="children"><div class="child " id="Android-connectoption-serialization-binary"><span class="name"><a href="#Android-connectoption-serialization-binary">BINARY</a></span><p class="description">データ通信形式を<code>binary</code>にします。</p></div><div class="child " id="Android-connectoption-serialization-binary_utf8"><span class="name"><a href="#Android-connectoption-serialization-binary_utf8">BINARY_UTF8</a></span><p class="description">データ通信形式を<code>binary-utf8</code>にします。</p></div><div class="child " id="Android-connectoption-serialization-json"><span class="name"><a href="#Android-connectoption-serialization-json">JSON</a></span><p class="description">データ通信形式を<code>json</code>にします。</p></div><div class="child " id="Android-connectoption-serialization-none"><span class="name"><a href="#Android-connectoption-serialization-none">NONE</a></span><p class="description">データ通信形式を<code>none</code>にします。</p></div></div></div><div class="child " id="Android-connectoption-reliable"><span class="name"><a href="#Android-connectoption-reliable">reliable</a><span class="tag type Boolean">Boolean</span></span><p class="description">data channelに信頼性をもたせるか(例えば、大きなファイルの転送）、もたせないか（例えば、ゲームやストリーミング）を指定可能です。デフォルトはfalseです。</p></div></div></div><div class="toplevel " id="Android-calloption"><span class="name"><a href="#Android-calloption">CallOption</a><span class="tag type CLASS">CLASS</span><span class="snippet">CallOption option = new CallOption();</span></span><p class="description">Peerのcall実行時のオプション設定情報クラスです。</p><div class="children"><div class="child " id="Android-calloption-metadata"><span class="name"><a href="#Android-calloption-metadata">metadata</a><span class="tag type String">String</span></span><p class="description">コネクションと関連付けされるメタデータ文字列です。</p></div></div></div><div class="toplevel " id="Android-peererror"><span class="name"><a href="#Android-peererror">PeerError</a><span class="tag type CLASS">CLASS</span></span><p class="description">”error”イベント時に取得できるクラスです。OS からのエラー情報が存在した場合、エラー情報オブジェクトがプロパティerrorに参照されます。</p><div class="children"><div class="child " id="Android-peererror-type"><span class="name"><a href="#Android-peererror-type">type</a><span class="tag type PeerErrorEnum">PeerErrorEnum</span></span><p class="description">列挙型のエラータイプが設定されます。</p><div class="children"><div class="child fatal " id="Android-peererror-type-no_error"><span class="name"><a href="#Android-peererror-type-no_error">NO_ERROR</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">エラーがない状態です</p></div><div class="child fatal " id="Android-peererror-type-browser_incompatible"><span class="name"><a href="#Android-peererror-type-browser_incompatible">BROWSER_INCOMPATIBLE</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">利用しようとしているwebRTC機能のすべて、またはいくつかについて、サポートしていません。</p></div><div class="child fatal " id="Android-peererror-type-invalid_id"><span class="name"><a href="#Android-peererror-type-invalid_id">INVALID_ID</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">Peerクラスへ渡されたIDに、不正な文字が含まれています。</p></div><div class="child fatal " id="Android-peererror-type-invalid_key"><span class="name"><a href="#Android-peererror-type-invalid_key">INVALID_KEY</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">Peerクラスへ渡されたAPI Keyが不正な文字列を含んでいます。または、API Keyが含まれていません（クラウド上のサーバを利用する場合のみ）。</p></div><div class="child fatal " id="Android-peererror-type-unavailable_id"><span class="name"><a href="#Android-peererror-type-unavailable_id">UNAVAILABLE_ID</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">Peerクラスへ渡されたIDは既に利用されています。</p></div><div class="child fatal " id="Android-peererror-type-ssl_unavailable"><span class="name"><a href="#Android-peererror-type-ssl_unavailable">SSL_UNAVAILABLE</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">SSL関連のエラーです。</p></div><div class="child " id="Android-peererror-type-disconnected"><span class="name"><a href="#Android-peererror-type-disconnected">DISCONNECTED</a><span class="tag type Error">Error</span></span><p class="description">既にこのPeerとの接続が切断されており、新しいコネクションを作成できません。</p></div><div class="child fatal " id="Android-peererror-type-server_error"><span class="name"><a href="#Android-peererror-type-server_error">SERVER_ERROR</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">サーバに到達できません。</p></div><div class="child fatal " id="Android-peererror-type-socket_error"><span class="name"><a href="#Android-peererror-type-socket_error">SOCKET_ERROR</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">ソケットからのエラーです。</p></div><div class="child fatal " id="Android-peererror-type-socket_closed"><span class="name"><a href="#Android-peererror-type-socket_closed">SOCKET_CLOSED</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">ソケットが予期せずクローズしました。</p></div><div class="child fatal " id="Android-peererror-type-network"><span class="name"><a href="#Android-peererror-type-network">NETWORK</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">シグナリングサーバとのネットワークエラーです。</p></div><div class="child fatal " id="Android-peererror-type-peer_unavailable"><span class="name"><a href="#Android-peererror-type-peer_unavailable">PEER_UNAVAILABLE</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">接続できないPeerに接続しようとしています。</p></div><div class="child fatal " id="Android-peererror-type-webrtc"><span class="name"><a href="#Android-peererror-type-webrtc">WEBRTC</a><span class="tag type Error">Error</span><span class="tag fatal">fatal</span></span><p class="description">WebRTC関連での何からのエラーです。</p></div></div></div><div class="child " id="Android-peererror-message"><span class="name"><a href="#Android-peererror-message">message</a><span class="tag type String">String</span></span><p class="description">エラーメッセージです。</p></div><div class="child " id="Android-peererror-exception"><span class="name"><a href="#Android-peererror-exception">exception</a><span class="tag type Exception">Exception</span></span><p class="description">OSからのエラー情報オブジェクトです。</p></div></div></div><div class="toplevel " id="Android-dataconnection"><span class="name"><a href="#Android-dataconnection">DataConnection</a><span class="tag type CLASS">CLASS</span></span><p class="description">WebRTCのData Channelをラップします。このオブジェクトを得るためには、Peerの<a href='#Android-peer-connect'><code>connect</code></a>を使うか、<a href='#Android-peer-on-event-connection'><code>CONNECTION</code></a>発生時に渡されるオブジェクトを使用してください。</p><div class="children"><div class="child " id="Android-dataconnection-send"><span class="name"><a href="#Android-dataconnection-send">send</a><span class="tag type METHOD">METHOD</span><span class="snippet">BOOL bResult = dataConnection.send(data);</span></span><p class="description">接続中のリモートピアにデータを送信します。プロパティ<a href='#Android-dataconnection-serialization'><code>serialization</code></a>の値によって送信処理が変わります。serializationの値による、各プラットフォーム間(JavaScript, iOS, Android)でのデータ通信の可否と、送受信時のデータ型に関する情報については<a href='https://github.com/nttcom/skyway-docs/blob/master/serialization.md' target='_blank'>こちら</a>をご覧ください。</p><div class="children"><div class="child " id="Android-dataconnection-send-data"><span class="name"><a href="#Android-dataconnection-send-data">data</a></span><p class="description">送信するデータです。</p></div></div></div><div class="child " id="Android-dataconnection-close"><span class="name"><a href="#Android-dataconnection-close">close</a><span class="tag type METHOD">METHOD</span><span class="snippet">dataConnection.close();</span></span><p class="description">DataChannelとPeerConnectionを解放して、コネクションをクローズします。</p></div><div class="child " id="Android-dataconnection-on"><span class="name"><a href="#Android-dataconnection-on">on</a><span class="tag type METHOD">METHOD</span><span class="snippet">dataConnection.on(event,new OnCallback(){public void onCallback(Object object){}});</span></span><p class="description">DataConnectionのイベントコールバックBlockを設定します。</p><div class="children"><div class="child " id="Android-dataconnection-on-event"><span class="name"><a href="#Android-dataconnection-on-event">event</a><span class="tag type DataEventEnum">DataEventEnum</span></span><p class="description">設定するイベント種別を指定します。</p><div class="children"><div class="child " id="Android-dataconnection-on-event-data"><span class="name"><a href="#Android-dataconnection-on-event-data">DATA</a></span><p class="description">リモートpeerからデータを受信した場合に発生します。</p></div><div class="child " id="Android-dataconnection-on-event-open"><span class="name"><a href="#Android-dataconnection-on-event-open">OPEN</a></span><p class="description">コネクションが利用可能となった場合に発生します。</p></div><div class="child " id="Android-dataconnection-on-event-close"><span class="name"><a href="#Android-dataconnection-on-event-close">CLOSE</a></span><p class="description">あなたが、またはリモートのpeerがdata connectionをクローズした場合に発生します。</p></div><div class="child " id="Android-dataconnection-on-event-error"><span class="name"><a href="#Android-dataconnection-on-event-error">ERROR</a></span><p class="description">callbackの引数は<a href='#Android-peererror'>PeerError</a>クラスになります。</p></div></div></div><div class="child " id="Android-dataconnection-on-callback"><span class="name"><a href="#Android-dataconnection-on-callback">callback</a></span><p class="description">イベント発生時に実行するBlockを設定します。</p></div></div></div><div class="child " id="Android-dataconnection-buffersize"><span class="name"><a href="#Android-dataconnection-buffersize">bufferSize</a><span class="tag type int">int</span></span><p class="description">バッファが一杯になった場合に、キューされるメッセージのサイズです。</p></div><div class="child " id="Android-dataconnection-datachannel"><span class="name"><a href="#Android-dataconnection-datachannel">dataChannel</a><span class="tag type <a href='#Android-datachannel'>DataChannel</a>"><a href='#Android-datachannel'>DataChannel</a></span></span><p class="description">コネクションに関連付けされたDataChannelオブジェクトへの参照です。</p></div><div class="child " id="Android-dataconnection-label"><span class="name"><a href="#Android-dataconnection-label">label</a><span class="tag type String">String</span></span><p class="description">コネクションが開始されたときにアサインされる、または指定されるオプションのラベルです。</p></div><div class="child " id="Android-dataconnection-metadata"><span class="name"><a href="#Android-dataconnection-metadata">metadata</a><span class="tag type String">String</span></span><p class="description">コネクションが開始されたときに、コネクションと関連付けされるメタデータ文字列です。</p></div><div class="child " id="Android-dataconnection-isopen"><span class="name"><a href="#Android-dataconnection-isopen">isOpen</a><span class="tag type BOOL">BOOL</span></span><p class="description">コネクションがopenであり、読み込み/書き込みの準備ができている場合に<code>true</code>になります。</p></div><div class="child " id="Android-dataconnection-peerconnection"><span class="name"><a href="#Android-dataconnection-peerconnection">peerConnection</a><span class="tag type PeerConnection">PeerConnection</span></span><p class="description">コネクションに関連付けされる、PeerConnectionオブジェクトです。</p></div><div class="child " id="Android-dataconnection-peer"><span class="name"><a href="#Android-dataconnection-peer">peer</a><span class="tag type String">String</span></span><p class="description">コネクションの相手側のpeer IDです。</p></div><div class="child " id="Android-dataconnection-reliable"><span class="name"><a href="#Android-dataconnection-reliable">reliable</a><span class="tag type BOOL">BOOL</span></span><p class="description">信頼性のあるdata channelの場合は<code>true</code>です。コネクションの開始時に定義されます。</p></div><div class="child " id="Android-dataconnection-serialization"><span class="name"><a href="#Android-dataconnection-serialization">serialization</a><span class="tag type SerializationEnum">SerializationEnum</span></span><p class="description">コネクションを通じて送信されるデータのserializeフォーマットです。コネクションの開始時に定義されます</p><div class="children"><div class="child " id="Android-dataconnection-serialization-binary"><span class="name"><a href="#Android-dataconnection-serialization-binary">BINARY</a></span><p class="description">データ通信形式が<code>binary</code>の時にこの値が返されます。</p></div><div class="child " id="Android-dataconnection-serialization-binary_utf8"><span class="name"><a href="#Android-dataconnection-serialization-binary_utf8">BINARY_UTF8</a></span><p class="description">データ通信形式が<code>binary-utf8</code>の時にこの値が返されます。</p></div><div class="child " id="Android-dataconnection-serialization-json"><span class="name"><a href="#Android-dataconnection-serialization-json">JSON</a></span><p class="description">データ通信形式が<code>json</code>の時にこの値が返されます。</p></div><div class="child " id="Android-dataconnection-serialization-none"><span class="name"><a href="#Android-dataconnection-serialization-none">NONE</a></span><p class="description">データ通信形式が<code>none</code>の時にこの値が返されます。</p></div></div></div><div class="child " id="Android-dataconnection-type"><span class="name"><a href="#Android-dataconnection-type">type</a><span class="tag type String">String</span></span><p class="description">data connectionでは、常に<code>'data'</code>が設定されます。</p></div></div></div><div class="toplevel " id="Android-mediaconnection"><span class="name"><a href="#Android-mediaconnection">MediaConnection</a><span class="tag type CLASS">CLASS</span></span><p class="description">WebRTCのmedia streamをラップします。このオブジェクトを得るためには、Peerの<a href='#Android-peer-call'><code>call</code></a>を使うか、<a href='#Android-peer-on-event-call'><code>CALL</code></a>発生時に渡されるオブジェクトを使用してください。</p><div class="children"><div class="child " id="Android-mediaconnection-answer"><span class="name"><a href="#Android-mediaconnection-answer">answer</a><span class="tag type METHOD">METHOD</span><span class="snippet">mediaConnection.answer();<br>mediaConnection.answer(stream);</span></span><p class="description"><a href='#Android-peer-on-event-call'><code>call</code></a>イベントを受信した場合に、応答するためにコールバックにて与えられるmedia connectionにて<code>answer</code>を呼び出せます。また、オプションで自身のmedia streamを設定できます。</p><div class="children"><div class="child " id="Android-mediaconnection-answer-stream"><span class="name"><a href="#Android-mediaconnection-answer-stream"><span class="optional"><span class="bracket">[</span>stream<span class="bracket">]</span></span></a><span class="tag type <a href='#Android-mediastream'>MediaStream</a>"><a href='#Android-mediastream'>MediaStream</a></span></span><p class="description">NavigatorのgetUserMediaによって取得される<a href='#Android-mediastream'><code>MediaStream</code></a>です。</p></div></div></div><div class="child " id="Android-mediaconnection-close"><span class="name"><a href="#Android-mediaconnection-close">close</a><span class="tag type METHOD">METHOD</span><span class="snippet">media.close();</span></span><p class="description">media connectionをクローズします。</p></div><div class="child " id="Android-mediaconnection-on"><span class="name"><a href="#Android-mediaconnection-on">on</a><span class="tag type METHOD">METHOD</span><span class="snippet">media.on(event, new OnCallback(){puclic void onCallback(Object object){}});</span></span><p class="description">MediaConnectionのイベントコールバックBlockを設定します。</p><div class="children"><div class="child " id="Android-mediaconnection-on-event"><span class="name"><a href="#Android-mediaconnection-on-event">event</a><span class="tag type MediaEventEnum">MediaEventEnum</span></span><p class="description">設定するイベント種別を指定します。</p><div class="children"><div class="child " id="Android-mediaconnection-on-event-stream"><span class="name"><a href="#Android-mediaconnection-on-event-stream">STREAM</a></span><p class="description">リモートのpeerが<code>stream</code>を追加したときに発生します。</p></div><div class="child " id="Android-mediaconnection-on-event-close"><span class="name"><a href="#Android-mediaconnection-on-event-close">CLOSE</a></span><p class="description">あなたか、リモートのpeerがmedia connectionをクローズした時に発生します。</p></div><div class="child " id="Android-mediaconnection-on-event-error"><span class="name"><a href="#Android-mediaconnection-on-event-error">ERROR</a></span><p class="description">callbackの引数は<a href='#Android-peererror'>PeerError</a>クラスになります。</p></div></div></div><div class="child " id="Android-mediaconnection-on-callback"><span class="name"><a href="#Android-mediaconnection-on-callback">callback</a></span><p class="description">イベント発生時に実行するBlockを設定します。</p></div></div></div><div class="child " id="Android-mediaconnection-isopen"><span class="name"><a href="#Android-mediaconnection-isopen">isOpen</a><span class="tag type BOOL">BOOL</span></span><p class="description">コネクションがopenであり、読み込み/書き込みの準備ができている場合に<code>true</code>になります。</p></div><div class="child " id="Android-mediaconnection-peer"><span class="name"><a href="#Android-mediaconnection-peer">peer</a><span class="tag type String">String</span></span><p class="description">コネクションの相手側のpeer IDです。</p></div><div class="child " id="Android-mediaconnection-type"><span class="name"><a href="#Android-mediaconnection-type">type</a><span class="tag type String">String</span></span><p class="description">media connectionでは、常に<code>'media'</code>が設定されます。</p></div></div></div><div class="toplevel " id="Android-mediastream"><span class="name"><a href="#Android-mediastream">MediaStream</a><span class="tag type CLASS">CLASS</span></span><div class="children"><div class="child " id="Android-mediastream-close"><span class="name"><a href="#Android-mediastream-close">close</a><span class="tag type METHOD">METHOD</span><span class="snippet">stream.close();</span></span><p class="description">メディアストリームをすべて閉じます。</p></div><div class="child " id="Android-mediastream-getvideotracks"><span class="name"><a href="#Android-mediastream-getvideotracks">getVideoTracks</a><span class="tag type METHOD">METHOD</span><span class="snippet">int videos = stream.getVideoTracks();</span></span><p class="description">メディアストリームに追加されているビデオトラック数を取得します。</p></div><div class="child " id="Android-mediastream-setenablevideotrack"><span class="name"><a href="#Android-mediastream-setenablevideotrack">setEnableVideoTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">stream.setEnableVideoTrack(pos,enable);</span></span><p class="description">メディアストリームに追加済みのビデオトラック再生状態を設定します。</p><div class="children"><div class="child " id="Android-mediastream-setenablevideotrack-pos"><span class="name"><a href="#Android-mediastream-setenablevideotrack-pos">pos</a><span class="tag type int">int</span></span><p class="description">ビデオトラック番号を選択します。ビデオトラック番号は０以上を設定します。</p></div><div class="child " id="Android-mediastream-setenablevideotrack-enable"><span class="name"><a href="#Android-mediastream-setenablevideotrack-enable">enable</a><span class="tag type Boolean">Boolean</span></span><p class="description"><code>true</code>なら再生し、<code>false</code>なら停止します</p></div></div></div><div class="child " id="Android-mediastream-getenablevideotrack"><span class="name"><a href="#Android-mediastream-getenablevideotrack">getEnableVideoTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">Boolean enable = stream.getEnableVideoTrack(pos);</span></span><p class="description">メディアストリームに追加済みのビデオトラック再生状態を取得します。</p><div class="children"><div class="child " id="Android-mediastream-getenablevideotrack-pos"><span class="name"><a href="#Android-mediastream-getenablevideotrack-pos">pos</a><span class="tag type int">int</span></span><p class="description">ビデオトラック番号 (0 -)を選択します。</p></div></div></div><div class="child " id="Android-mediastream-getaudiotracks"><span class="name"><a href="#Android-mediastream-getaudiotracks">getAudioTracks</a><span class="tag type METHOD">METHOD</span><span class="snippet">int audios = stream.getAudioTracks();</span></span><p class="description">メディアストリームに追加されているオーディオトラック数を取得します。</p></div><div class="child " id="Android-mediastream-setenableaudiotrack"><span class="name"><a href="#Android-mediastream-setenableaudiotrack">setEnableAudioTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">stream.setEnableAudioTrack(pos,enable);</span></span><p class="description">メディアストリームに追加済みのオーディオトラック再生状態を設定します。</p><div class="children"><div class="child " id="Android-mediastream-setenableaudiotrack-pos"><span class="name"><a href="#Android-mediastream-setenableaudiotrack-pos">pos</a><span class="tag type int">int</span></span><p class="description">オーディオトラック番号 (0 -)を選択します。</p></div><div class="child " id="Android-mediastream-setenableaudiotrack-enable"><span class="name"><a href="#Android-mediastream-setenableaudiotrack-enable">enable</a><span class="tag type Boolean">Boolean</span></span><p class="description"><code>true</code>なら再生し、<code>false</code>なら停止します</p></div></div></div><div class="child " id="Android-mediastream-getenableaudiotrack"><span class="name"><a href="#Android-mediastream-getenableaudiotrack">getEnableAudioTrack</a><span class="tag type METHOD">METHOD</span><span class="snippet">Boolean enable = stream.getEnableAudioTrack(pos);</span></span><p class="description">メディアストリームに追加済みのオーディオトラック再生状態を取得します。</p><div class="children"><div class="child " id="Android-mediastream-getenableaudiotrack-pos"><span class="name"><a href="#Android-mediastream-getenableaudiotrack-pos">pos</a><span class="tag type int">int</span></span><p class="description">オーディオトラック番号を選択します。オーディオトラック番号は０以上が設定されます。</p></div></div></div></div></div><div class="toplevel " id="Android-canvas"><span class="name"><a href="#Android-canvas">Canvas</a><span class="tag type OBJECT">OBJECT</span><span class="snippet">Canvas canvas = (Canvas) findViewById(R.id.ownvideo);</span></span><p class="description">映像を表示するレンダラービュー オブジェクトです。</p><div class="children"><div class="child " id="Android-canvas-addsrc"><span class="name"><a href="#Android-canvas-addsrc">addSrc</a><span class="tag type METHOD">METHOD</span><span class="snippet">canvas.addSrc(stream,trackNo);</span></span><p class="description">メディアソースとして、 指定のメディアストリーム・トラック番号を追加します。</p><div class="children"><div class="child " id="Android-canvas-addsrc-stream"><span class="name"><a href="#Android-canvas-addsrc-stream">stream</a><span class="tag type <a href='#Android-mediastream'>MediaStream</a>"><a href='#Android-mediastream'>MediaStream</a></span></span><p class="description">追加するメディアストリームです。</p></div><div class="child " id="Android-canvas-addsrc-trackno"><span class="name"><a href="#Android-canvas-addsrc-trackno">trackNo</a><span class="tag type int">int</span></span><p class="description">追加するビデオトラック番号です。トラック番号は０以上の数で設定します。</p></div></div></div><div class="child " id="Android-canvas-removesrc"><span class="name"><a href="#Android-canvas-removesrc">removeSrc</a><span class="tag type METHOD">METHOD</span><span class="snippet">canvas.removeSrc(stream,trackNo);</span></span><p class="description">メディアソースとして使用していたメディアストリーム・トラック番号を削除します。</p><div class="children"><div class="child " id="Android-canvas-removesrc-stream"><span class="name"><a href="#Android-canvas-removesrc-stream">stream</a><span class="tag type <a href='#Android-mediastream'>MediaStream</a>"><a href='#Android-mediastream'>MediaStream</a></span></span><p class="description">削除するメディアストリームです。</p></div><div class="child " id="Android-canvas-removesrc-trackno"><span class="name"><a href="#Android-canvas-removesrc-trackno">trackNo</a><span class="tag type int">int</span></span><p class="description">削除するビデオトラック番号です。</p></div></div></div></div></div><div class="toplevel " id="Android-navigator"><span class="name"><a href="#Android-navigator">Navigator</a><span class="tag type CLASS">CLASS</span></span><p class="description">映像を取得するためのクラスです。</p><div class="children"><div class="child " id="Android-navigator-initialize"><span class="name"><a href="#Android-navigator-initialize">initialize</a><span class="tag type METHOD">METHOD</span><span class="snippet">Navigator.initialize(peer);</span></span><p class="description">初期化を行います。</p><div class="children"><div class="child " id="Android-navigator-initialize-peer"><span class="name"><a href="#Android-navigator-initialize-peer">peer</a><span class="tag type <a href='#Android-peer'>Peer</a>"><a href='#Android-peer'>Peer</a></span></span><p class="description">作成・初期化済みのPeerオブジェクト</p></div></div></div><div class="child " id="Android-navigator-terminate"><span class="name"><a href="#Android-navigator-terminate">terminate</a><span class="tag type METHOD">METHOD</span><span class="snippet">Navigator.terminate();</span></span><p class="description">終了化を行います。</p></div><div class="child " id="Android-navigator-getusermedia"><span class="name"><a href="#Android-navigator-getusermedia">getUserMedia</a><span class="tag type METHOD">METHOD</span><span class="snippet">MediaStream stream = Navigator.getUserMedia(constraints);</span></span><p class="description">ローカルメディアストリームを取得します。</p><div class="children"><div class="child " id="Android-navigator-getusermedia-constraints"><span class="name"><a href="#Android-navigator-getusermedia-constraints">constraints</a><span class="tag type <a href='#Android-mediaconstraints'>MediaConstraints</a>"><a href='#Android-mediaconstraints'>MediaConstraints</a></span></span><p class="description">メディアストリームの設定です。</p></div></div></div></div></div><div class="toplevel " id="Android-mediaconstraints"><span class="name"><a href="#Android-mediaconstraints">MediaConstraints</a><span class="tag type CLASS">CLASS</span></span><p class="description"><a href='#Android-navigator'>Navigator</a>のgetUserMedia実行時のオプション設定クラスです。</p><div class="children"><div class="child " id="Android-mediaconstraints-videoflag"><span class="name"><a href="#Android-mediaconstraints-videoflag">videoFlag</a><span class="tag type Boolean">Boolean</span></span><p class="description">映像使用を設定します。<code>true</code>なら映像を有効に、<code>false</code>なら映像を無効にします。デフォルトは<code>true</code>です。</p></div><div class="child " id="Android-mediaconstraints-audioflag"><span class="name"><a href="#Android-mediaconstraints-audioflag">audioFlag</a><span class="tag type Boolean">Boolean</span></span><p class="description">音声使用を設定します。<code>true</code>なら音声を有効に、<code>false</code>なら音声を無効にします。デフォルトは<code>true</code>です。</p></div><div class="child " id="Android-mediaconstraints-cameraposition"><span class="name"><a href="#Android-mediaconstraints-cameraposition">cameraPosition</a><span class="tag type CameraPositionEnum">CameraPositionEnum</span></span><p class="description">使用するカメラの位置を設定します。デフォルトはFRONTになります。</p><div class="children"><div class="child " id="Android-mediaconstraints-cameraposition-unspecified"><span class="name"><a href="#Android-mediaconstraints-cameraposition-unspecified">UNSPECIFIED</a></span><p class="description">一番始めに見つけたカメラを使用します。順序はシステムに依存します。</p></div><div class="child " id="Android-mediaconstraints-cameraposition-back"><span class="name"><a href="#Android-mediaconstraints-cameraposition-back">BACK</a></span><p class="description">アウトカメラを使用します。アウトカメラが見つからない場合は、一番始めに見つけたカメラを使用します。</p></div><div class="child " id="Android-mediaconstraints-cameraposition-front"><span class="name"><a href="#Android-mediaconstraints-cameraposition-front">FRONT</a></span><p class="description">インカメラを使用します。インカメラが見つからない場合は、一番始めに見つけたカメラを使用します。</p></div></div></div><div class="child " id="Android-mediaconstraints-maxwidth"><span class="name"><a href="#Android-mediaconstraints-maxwidth">maxWidth</a><span class="tag type int">int</span></span><p class="description">横ピクセル上限を設定します<code>0</code>を指定すると WebRTCエンジン依存となります。デフォルトは<code>640</code>となります。</p></div><div class="child " id="Android-mediaconstraints-minwidth"><span class="name"><a href="#Android-mediaconstraints-minwidth">minWidth</a><span class="tag type int">int</span></span><p class="description">横ピクセル下限を設定します<code>0</code>を指定すると WebRTCエンジン依存となります。デフォルトは<code>0</code>となります。</p></div><div class="child " id="Android-mediaconstraints-maxheight"><span class="name"><a href="#Android-mediaconstraints-maxheight">maxHeight</a><span class="tag type int">int</span></span><p class="description">縦ピクセル上限を設定します<code>0</code>を指定すると WebRTCエンジン依存となります。デフォルトは<code>640</code>となります。</p></div><div class="child " id="Android-mediaconstraints-minheight"><span class="name"><a href="#Android-mediaconstraints-minheight">minHeight</a><span class="tag type int">int</span></span><p class="description">縦ピクセル下限を設定します<code>0</code>を指定すると WebRTCエンジン依存となります。デフォルトは<code>0</code>となります。</p></div><div class="child " id="Android-mediaconstraints-maxframerate"><span class="name"><a href="#Android-mediaconstraints-maxframerate">maxFrameRate</a><span class="tag type int">int</span></span><p class="description">フレームレート上限を設定します<code>0</code>を指定すると WebRTCエンジン依存となります。デフォルトは<code>10</code>となります。</p></div><div class="child " id="Android-mediaconstraints-minframerate"><span class="name"><a href="#Android-mediaconstraints-minframerate">minFrameRate</a><span class="tag type int">int</span></span><p class="description">フレームレート下限を設定します<code>0</code>を指定すると WebRTCエンジン依存となります。デフォルトは<code>0</code>となります。</p></div></div></div>
</section>
</div>
</div>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46095916-2', 'nttcom.github.io');
    ga('send', 'pageview');

</script>

<script type="text/javascript">

$(window).load(function(){
  $('#tab-content > div').hide();
  $('#tab a').click(function () {
    $('#tab-content > div').hide().filter(this.hash).show(); //アンカー要素を表示

    $('#tab a').removeClass('active');
    $(this).addClass('active');

    return false; //いれてないとアンカーリンクになる
  }).filter(':eq(0)').click();
  var hash = window.location.hash;
  if(hash.match("#iOS-")){
  	$('#tab a[href="#iOS"]').trigger("click");
  	$('a[href="' + hash + '"]').trigger("click");
  }else if(hash.match("#Android-")){
	$('#tab a[href="#Android"]').trigger("click");
	$('a[href="' + hash + '"]').trigger("click");
  }else{
  	$('#tab a[href="' + hash + '"]').trigger("click");
  }
})

</script>
</body>
</html>
